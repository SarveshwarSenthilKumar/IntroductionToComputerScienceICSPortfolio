<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>School Portfolio</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --light-bg: #f8f9fa;
            --dark-text: #2c3e50;
            --light-text: #ecf0f1;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--dark-text);
            background-color: var(--light-bg);
            line-height: 1.6;
        }
        
        .hero-container {
            position: relative;
            text-align: center;
            color: white;
            margin-bottom: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            border-radius: 0 0 20px 20px;
        }
        
        .hero-container img {
            width: 100%;
            height: 60vh;
            object-fit: cover;
            filter: brightness(0.7);
            transition: transform 0.5s ease;
        }
        
        .hero-container:hover img {
            transform: scale(1.03);
        }
        
        .hero-title {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Montserrat', sans-serif;
            font-size: 4vw;
            font-weight: 700;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
            width: 90%;
            animation: fadeIn 1.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -40%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }
        
        .header-name {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 2rem 0;
            color: var(--secondary-color);
            position: relative;
            padding-left: 1.5rem;
        }
        
        .header-name::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 5px;
            background: var(--primary-color);
            border-radius: 5px;
        }
        
        .email-link {
            color: var(--primary-color);
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .email-link:hover {
            color: var(--accent-color);
            text-decoration: none;
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 3rem 0 2rem;
            color: var(--secondary-color);
            text-align: center;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: var(--primary-color);
            margin: 0.5rem auto;
            border-radius: 2px;
        }
        
        .mindmap-container {
            display: flex;
            justify-content: center;
            margin: 3rem 0;
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .mindmap-container img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }
        
        .mindmap-container img:hover {
            transform: scale(1.02);
        }
        
        .projects-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .project-section-title {
            font-size: 2rem;
            font-weight: 600;
            margin: 3rem 0 1.5rem;
            color: var(--secondary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }
        
        .project-item {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary-color);
        }
        
        .project-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .project-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--secondary-color);
        }
        
        .project-description {
            margin-bottom: 1rem;
            color: #555;
        }
        
        .project-tasks {
            margin-left: 1.5rem;
            color: #666;
        }
        
        .project-image {
            display: block;
            max-width: 80%;
            margin: 1rem auto;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .btn-portfolio {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .btn-portfolio:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .btn-portfolio i {
            margin-right: 0.5rem;
        }
        
        .btn-secondary-portfolio {
            background: #6c757d;
        }
        
        .footer {
            background: var(--secondary-color);
            color: var(--light-text);
            padding: 3rem 0;
            margin-top: 5rem;
            text-align: center;
        }
        
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
        }
        
        .back-to-top.active {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background: var(--accent-color);
            transform: translateY(-3px);
        }
        
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .header-name {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
        }

        .video-container {
            position: relative;
            width: 80%;  /* Matches your project-image width */
            margin: 1rem auto;  /* Matches your project-image margins */
            padding-bottom: 45%; /* 16:9 aspect ratio (9/16 = 0.5625) */
            height: 0;
            overflow: hidden;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 8px; /* Matches your project-image border-radius */
            box-shadow: 0 3px 10px rgba(0,0,0,0.2); /* Matches your project-image shadow */
        }
    </style>
</head>
<body>
    <div class="hero-container" id="start">
        <img src="assets/background.jpg" alt="Introduction to Computer Science">
        <div class="hero-title">ICS3UR: Introduction to Computer Science</div>
    </div>
    
    <div class="container">
        <h1 class="header-name">
            Sarveshwar Senthil Kumar - 
            <a href="https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=sarveshwar313@gmail.com,997933@pdsb.net" class="email-link">
                <i class="fas fa-envelope"></i> 997933@pdsb.net
            </a>
        </h1>
        
        <h2 class="section-title">Mind Map</h2>
        <div class="mindmap-container">
            <img src="assets/Mindmap.png" alt="Course Mind Map">
        </div>
        
        <div class="projects-container">
            <h2 class="project-section-title">Course Projects</h2>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering a Smiley Face with Realistic Eyes and Brow</h3>
                <a href="processing/smileyface.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering a Circle to Follow the Cursor</h3>
                <a href="processing/cursorfollow.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering a Car that Can Be Scaled by Modifying the Width and Height of a Screen, Added Background Image for Car</h3>
                <a href="processing/scalingcar.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Practice Lab for Math Operations, Functions, and Programs</h3>
                <div class="project-description">
                    <p>Tasks completed in this project:</p>
                    <ul class="project-tasks">
                        <li>Task 1. Calculate the area and perimeter of a rectangle</li>
                        <li>Task 2. Practice using the power function (pow) by writing different expressions</li>
                        <li>Task 3. Practice using the square root (sqrt) function by writing different expressions</li>
                        <li>Task 4. Calculate the temperature in Fahrenheit given Celsius</li>
                        <li>Task 5. Calculate the temperature in Celsius given Fahrenheit (Inverse of Task 4)</li>
                        <li>Task 6: Write a program that outputs a person's age given their birth year</li>
                    </ul>
                </div>
                <a href="processing/mathoperations.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering a Car Using a Scale Variable as Well as Vertexes Instead of a Rectangle Function</h3>
                <a href="processing/scaleVertexCar.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering Different Stars Using Scale and Position Variables as Well as Connecting Vertexes</h3>
                <a href="processing/stars.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering the Environment of the Car World by Importing Values to Scale</h3>
                <a href="processing/createEnvironmentCar.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Rendering a Nameplate Using a Sketch as an Initial Idea (Unit 2 Assessment)</h3>
                <img src="assets/nameplate.PNG" alt="Nameplate Project" class="project-image">
                <a href="processing/createEnvironmentCar.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Using an IntDict (Dictionary or Hash Map) in Processing to Store Grade Values for Letter Grades and Process Number Grades to Letter Grades</h3>
                <a href="processing/grades.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Collision Detection Algorithm to Detect Overlap of Two Circles Using the dist (Distance Function)</h3>
                <a href="processing/circlecollisiondetection.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Utilized Two Car Images to Display Two Cars Driving Across a Road; They Turn Back When the Other Side is Reached, If One Car is Faster Than the Other, the Car Slows Down Using Collision Detection. (Last Lesson of Selection)</h3>
                <div class="project-links">
                    <a href="processing/movingCar.pde" class="btn btn-portfolio">
                        <i class="fas fa-code"></i> Code File
                    </a>
                    <a href="processing/movingCarWithRain.pde" class="btn btn-secondary btn-portfolio">
                        <i class="fas fa-cloud-rain"></i> Code File for Car with Optional Rain
                    </a>
                </div>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Practice Lab for For Loops</h3>
                <div class="project-description">
                    <p>Tasks completed in this project:</p>
                    <ul class="project-tasks">
                        <li>Task 1. Drawing a Grid Pattern Across the Canvas</li>
                        <li>Task 2. Drawing Imitation Raindrops Across the Screen</li>
                        <li>Task 3. A Bouncing Ball</li>
                    </ul>
                </div>
                <a href="processing/forlooplabs.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Processing(Java): Practice Lab for While Loops</h3>
                <div class="project-description">
                    <p>Tasks completed in this project:</p>
                    <ul class="project-tasks">
                        <li>Task 1. Starry Night: Render more than 10 stars on the screen using a loop</li>
                        <li>Task 2. Drawing Imitation Raindrops Across the Screen with a While Loop</li>
                    </ul>
                </div>
                <a href="processing/whilelooplabs.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>
            
            <div class="project-item">
                <h3 class="project-title">Java: Practice Lab for String Manipulation</h3>
                <a href="code/Strings.java" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Java: Practice Lab for String Manipulation with additional input via Scanner</h3>
                <a href="code/InputStrings.java" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Java: Practice Lab for Reading and Writing to Files using BufferedReader and PrintWriter respectively</h3>
                <a href="code/FileModification.java" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Java: Practice Lab for Reading and Writing to Files, replace every other character with a +</h3>
                <a href="code/replaced.java" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Java: Practice Lab for Developing a Rock Paper Scissors game</h3>
                <a href="code/RockPaperScissors.java" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Java: Practice Lab for Arrays</h3>
                <a href="code/arrays.java" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Processing(Java): Reviewing Processing Basics: Built a Fruit Clicker Game with Dynamic Score Counter and Rounds</h3>
                <a href="code/fruitClicker.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Processing(Java): Culminating Prep; Avoid the falling objects game</h3>
                <a href="code/game.pde" class="btn btn-portfolio">
                    <i class="fas fa-code"></i> Code File
                </a>
            </div>

            <div class="project-item">
                <h3 class="project-title">Processing(Java): Game Demo Video</h3>
                <div class="project-description">
                    <p>Video demonstration of the Unit 4 Culminating game project, and finals prep:</p>
                </div>
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/38slQK2ZcSQ" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen></iframe>
                </div>
            </div>
            
            <div class="projects-container">
                <h2 class="project-section-title">Culminating Project Progress</h2>
            
                <div class="accordion" id="culminatingAccordion">
                    <!-- Day 1 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                Day 1 - June 9th, 2025
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#culminatingAccordion">
                            <div class="accordion-body">
                                <div class="project-item">
                                    <h4 class="project-title">Journal Entry</h4>
                                    <div class="project-description">
                                        <p>Today was the day I started to work on the actual codebase for the game.</p>
                                        <ul class="project-tasks">
                                            <li>Worked on the GUI for the main start menu</li>
                                            <li>Figured out the logistics to toggle music in the app</li>
                                            <li>Still working on the actual click interpretation for the buttons</li>
                                        </ul>
                                        <p><strong>Thoughts:</strong> I believe that today was a productive day however, it was quite tedious working with the graphical rendering and menial changing the different pixel values to make everything look better, I would like to move on to the true backend of the game tomorrow. I hope the music works each time, I watched a tutorial to figure out how to toggle the music.</p>
                                    </div>
                                    <h4 class="project-title">Code</h4>
                                    <pre><code class="language-java">import ddf.minim.*;

            AudioPlayer player;
            Minim minim;

            String text;
            String musicStatus = "ON";
            String currentStage = "start";

            void setup(){
            // Creating the basic canvas
            size(1000, 1000);
            background(#e6dfd0);
            
            // Setting up the music player
            minim = new Minim(this);
            player = minim.loadFile("music.mp3");
            player.loop();
            
            // Creating the basic title page
            setupTitlePage();
            }

            void draw(){
            if (currentStage == "start"){
                // Rendering the music settings dynamically
                fill(#cdbea1);
                rect(150, 400, width-300, 100);
                textSize(80);
                fill(0);
                text("MUSIC: " + musicStatus , (150+width-300)/2, 450);
                fill(#d6c9b1);
                rect(150+width-400, 400, 100, 100);
                fill(0);
                if (musicStatus == "ON"){
                fill(0);
                textSize(200);
                text("-" , 800, 435);
                }
                else if (musicStatus == "OFF"){
                fill(0);
                textSize(170);
                text("+" , 800, 445);
                }
            }
            }

            void keyPressed(){
            if (currentStage == "start"){
                // Checks for mute and unmute key presses and plays music accordingly
                if (key == 'm' || key == 'M'){
                if (musicStatus == "ON"){
                    musicStatus = "OFF";
                    player.close();
                    minim.stop();
                }
                else if (musicStatus == "OFF"){
                    musicStatus = "ON";
                    minim = new Minim(this);
                    player = minim.loadFile("music.mp3");
                    player.loop();
                }
                }
            }
            }

            void setupTitlePage(){
            // Set up basic title page
            textSize(150);
            fill(0);
            textAlign(CENTER, CENTER);
            text("2048:", width/2, 100);
            textSize(160);
            text("POWER", width/2, 250);
            currentStage = "start";
            
            // Rendering the Toggle Map Settings button
            fill(#cdbea1);
            rect(150, 520, width-300, 100);
            textSize(60);
            fill(0);
            text("Toggle Map Settings" , (width)/2, 570);
            
            // Rendering the Start Game button
            fill(#cdbea1);
            rect(150, 670, width-300, 100);
            textSize(60);
            fill(0);
            text("START GAME" , (width)/2, 720);

            // Printed instructions for menu selection
            textSize(50);
            fill(0);
            textAlign(CENTER, CENTER);
            text("Press M to mute/unmute", width/2, 850);
            textSize(50);
            text("Use mouse to select menu", width/2, 900);
            }</code></pre>
                                    <a href="processing/culminating1.pde" class="btn btn-portfolio">
                                        <i class="fas fa-code"></i> Download Code File
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Day 2 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Day 2 - June 10th, 2025
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#culminatingAccordion">
                            <div class="accordion-body">
                                <div class="project-item">
                                    <h4 class="project-title">Journal Entry</h4>
                                    <div class="project-description">
                                        <p>Today I made progress on several aspects of the game:</p>
                                        <ul class="project-tasks">
                                            <li>Fixed the UI and made the buttons responsive</li>
                                            <li>Worked on calculations and UI and backend of the adjust grid size feature</li>
                                            <li>Thought about the integration of different themes using a colors array</li>
                                            <li>Implemented carousel type theme selector (without colors)</li>
                                            <li>Thought about logic for figuring out game characteristics</li>
                                        </ul>
                                        <p><strong>Thoughts:</strong> Today was semi-productive, in retrospect looking at the accomplishments on paper, seems like I did not do much today, I will need to save time thinking about the implementation at home and convert it to code for next time, however today was quite profound in figuring out the basic logistics of the idea.</p>
                                    </div>
                                    <h4 class="project-title">Code</h4>
                                    <pre><code class="language-java">import ddf.minim.*;

                    AudioPlayer player;
                    Minim minim;

                    String text;
                    String musicStatus = "ON";
                    String currentStage = "start";
                    String theme = "desert";
                    int grid = 4;

                    color[] desertColors = [];

                    void setup() {
                    // Creating the basic canvas
                    size(1000, 1000);

                    // Setting up the music player
                    minim = new Minim(this);
                    player = minim.loadFile("music.mp3");
                    player.loop();

                    // Creating the basic title page
                    setupTitlePage();
                    }

                    void draw() {
                    if (currentStage == "start") {
                        // Rendering the music settings dynamically
                        fill(#cdbea1);
                        rect(150, 400, width-300, 100);
                        textSize(80);
                        fill(0);
                        text("MUSIC: " + musicStatus, (150+width-300)/2, 450);
                        fill(#d6c9b1);
                        rect(150+width-400, 400, 100, 100);
                        fill(0);
                        if (musicStatus == "ON") {
                        fill(0);
                        textSize(200);
                        text("-", 800, 435);
                        } else if (musicStatus == "OFF") {
                        fill(0);
                        textSize(170);
                        text("+", 800, 445);
                        }
                    } 
                    else if (currentStage == "selectingmaps") {
                        setupMapsPage();
                    }
                    else if (currentStage == "adjustinggrid") {
                        setupGridAdjust();
                    }
                    }

                    void keyPressed() {
                    if (currentStage == "start") {
                        // Checks for mute and unmute key presses and plays music accordingly
                        if (key == 'm' || key == 'M') {
                        toggleMusic();
                        }
                    }
                    
                    else if (currentStage == "adjustinggrid"){
                        if (keyCode == UP){
                        if (grid < 10){
                            grid+=1;
                        }
                        }
                        else if (keyCode == DOWN){
                        if (grid > 4){
                            grid-=1;
                        }
                        }
                    }
                    }

                    void mouseClicked() {
                    if (currentStage == "start") {
                        //Check for Start Menu Buttons
                        if (mouseX >= 150 && mouseX <= 150+width-300) {

                        //Check for Music Toggle
                        if (mouseY >= 400 && mouseY <= 500) {
                            toggleMusic();
                        }

                        // Check for Toggle Map Settings Button
                        else if (mouseY >= 520 && mouseY <= 620) {
                            setupMapsPage();
                        }
                        }
                    } 
                    else if (currentStage == "selectingmaps") {
                        // Check for Back Button
                        if (mouseX >= 10 && mouseX <= 70) {
                        if (mouseY >= 10 && mouseY <= 70) {
                            setupTitlePage();
                        }
                        }

                        if (theme == "desert") {
                        if (mouseX > width/2 - 110 && mouseX < (width/2 - 110) + 220) {
                            if (mouseY > 170 && mouseY < 170 + 220) {
                            theme = "desert";
                            }
                        }
                        if (mouseX >= 200 && mouseX <= 200 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "forest";
                            }
                        }
                        if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                            if (mouseY >= 190 && mouseY < 190 + 170) {
                            theme = "space";
                            }
                        }
                        } else if (theme == "forest") {
                        if (mouseX >= width/2 - 110 && mouseX <= (width/2 - 110) + 220) {
                            if (mouseY >= 170 && mouseY <= 170 + 220) {
                            theme = "forest";
                            }
                        }
                        if (mouseX >= 200 && mouseX <= 200 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "space";
                            }
                        }
                        if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "desert";
                            }
                        }
                        } else if (theme == "space") {
                        if (mouseX >= width/2 - 110 && mouseX <= (width/2 - 110) + 220) {
                            if (mouseY >= 170 && mouseY <= 170 + 220) {
                            theme = "space";
                            }
                        }
                        if (mouseX >= 200 && mouseX <= 200 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "desert";
                            }
                        }
                        if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "forest";
                            }
                        }
                        }
                        // Check for adjust grid size button click
                        if (mouseX >= 150 && mouseX <= 150+width-300) {
                        if (mouseY >= 520 && mouseY <= 620) {
                            setupGridAdjust();
                        }
                        }
                    }
                    else if (currentStage == "adjustinggrid"){
                        // Check for button to go back to the theme menu
                        if (mouseX >= 10 && mouseX <= 70) {
                        if (mouseY >= 10 && mouseY <= 70) {
                            setupMapsPage();
                        }
                        }
                        rect(width/2+10, 850, 100, 100);
                        rect(width/2-110, 850, 100, 100);
                    
                        if (mouseY >= 850 && mouseY <= 950){
                        if (mouseX >= width/2+10 && mouseX <= width/2+110){
                            if (grid > 4){
                            grid-=1;
                            }
                        }
                        else if (mouseX >= width/2-110 && mouseX <= width/2-10){
                            if (grid < 10){
                            grid+=1;
                            }
                        }
                        }
                    }
                    }

                    void setupGridAdjust(){
                    background(#e6dfd0);
                    currentStage = "adjustinggrid";
                    // Draw button background (rectangle)
                    fill(200);
                    rect(10, 10, 60, 60, 10);  // rounded corners

                    // Draw left-pointing arrow
                    fill(0);
                    beginShape();
                    vertex(20, 40);
                    vertex(60, 20);
                    vertex(60, 60);
                    endShape(CLOSE);
                    
                    text("Adjust Grid Size", (width)/2, 70);
                    
                    // Showing Main Grid 
                    fill(#ded4c0);
                    rect(200, 200, 600, 600, 50);
                    
                    fill(#c5b391);
                    for (int rows = 0; rows < grid; rows++){
                        for (int columns = 0; columns < grid; columns++){
                        rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                        }
                    }
                    
                    rect(width/2+10, 850, 100, 100);
                    rect(width/2-110, 850, 100, 100);
                    
                    // Draw the Up arrow inside the left rectangle
                    fill(0); // Set color to black
                    beginShape();
                    vertex(width/2-110+50, 850+25);  
                    vertex(width/2-110+10, 850+75); 
                    vertex(width/2-110+90, 850+75);  
                    endShape(CLOSE);
                    
                    // Draw the Down arrow inside the right rectangle
                    beginShape();
                    vertex(width/2+10+50, 850+75);  
                    vertex(width/2+10+10, 850+25);  
                    vertex(width/2+10+90, 850+25);  
                    endShape(CLOSE);

                    }

                    void setupMapsPage() {
                    background(#e6dfd0);
                    currentStage = "selectingmaps";
                    // Draw button background (rectangle)
                    fill(200);
                    rect(10, 10, 60, 60, 10);  // rounded corners

                    // Draw left-pointing arrow
                    fill(0);
                    beginShape();
                    vertex(20, 40);
                    vertex(60, 20);
                    vertex(60, 60);
                    endShape(CLOSE);

                    textSize(80);
                    text("Select Your Map", (width)/2, 70);

                    if (theme == "desert") {
                        fill(#c5b391);
                        rect(width/2-110, 170, 220, 220);
                        textSize(60);
                        fill(0);
                        text("Desert", (width)/2, 270);

                        fill(#ded4c0);
                        rect(200, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Forest", 285, 270);

                        fill(#ded4c0);
                        rect((width/2-110)+240, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Space", (width/2-110)+240+85, 270);
                    } else if (theme == "forest") {
                        fill(#c5b391);
                        rect(width/2-110, 170, 220, 220);
                        textSize(60);
                        fill(0);
                        text("Forest", (width)/2, 270);

                        fill(#ded4c0);
                        rect(200, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Space", 285, 270);

                        fill(#ded4c0);
                        rect((width/2-110)+240, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Desert", (width/2-110)+240+85, 270);
                    } else if (theme == "space") {
                        fill(#c5b391);
                        rect(width/2-110, 170, 220, 220);
                        textSize(60);
                        fill(0);
                        text("Space", (width)/2, 270);

                        fill(#ded4c0);
                        rect(200, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Desert", 285, 270);

                        fill(#ded4c0);
                        rect((width/2-110)+240, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Forest", (width/2-110)+240+85, 270);
                    }
                    
                    // Rendering the Change Map Dimensions button
                    fill(#cdbea1);
                    rect(150, 520, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("Adjust Grid Size", (width)/2, 570);

                    // Rendering the Start Game button
                    fill(#cdbea1);
                    rect(150, 670, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("START GAME", (width)/2, 720);
                    }

                    void toggleMusic() {
                    // Method to toggle music depending on current status
                    if (musicStatus == "ON") {
                        musicStatus = "OFF";
                        player.close();
                        minim.stop();
                    } else if (musicStatus == "OFF") {
                        musicStatus = "ON";
                        minim = new Minim(this);
                        player = minim.loadFile("music.mp3");
                        player.loop();
                    }
                    }

                    void setupTitlePage() {
                    // Set up basic title page

                    background(#e6dfd0);

                    textSize(150);
                    fill(0);
                    textAlign(CENTER, CENTER);
                    text("2048:", width/2, 100);
                    textSize(160);
                    text("POWER", width/2, 250);
                    currentStage = "start";

                    // Rendering the Toggle Map Settings button
                    fill(#cdbea1);
                    rect(150, 520, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("Toggle Map Settings", (width)/2, 570);

                    // Rendering the Start Game button
                    fill(#cdbea1);
                    rect(150, 670, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("START GAME", (width)/2, 720);

                    // Printed instructions for menu selection
                    textSize(50);
                    fill(0);
                    textAlign(CENTER, CENTER);
                    text("Press M to mute/unmute", width/2, 850);
                    textSize(50);
                    text("Use mouse to select menu", width/2, 900);
                    }</code></pre>
                                    <a href="processing/culminating2.pde" class="btn btn-portfolio">
                                        <i class="fas fa-code"></i> Download Code File
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Day 3 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Day 3 - June 11th, 2025
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#culminatingAccordion">
                            <div class="accordion-body">
                                <div class="project-item">
                                    <h4 class="project-title">Journal Entry</h4>
                                    <div class="project-description">
                                        <p>Today was a highly productive day where I implemented the core game mechanics:</p>
                                        <ul class="project-tasks">
                                            <li>Implemented button logic for start game buttons across all menus</li>
                                            <li>Fully implemented the theme selection system with three distinct color schemes</li>
                                            <li>Created the grid generation system with random tile spawning</li>
                                            <li>Developed slide functionality for the grid in all four directions (up, down, left, right)</li>
                                            <li>Implemented collision detection between tiles</li>
                                            <li>Built the game end checker to determine when no moves remain</li>
                                            <li>Created the end game screen showing final stats</li>
                                            <li>Implemented a score counter that tracks player progress</li>
                                        </ul>
                                        <p><strong>Thoughts:</strong> Today was the most productive day of the week where I got the majority of work done. While the work today wasn't as technically intensive as I expected, implementing all the core game mechanics was crucial. The stress of completing the project on time has been relieved as the remaining work consists of optional custom features to enhance the main game. The collision detection and grid shifting logic required careful testing but works reliably now.</p>
                                    </div>
                                    <h4 class="project-title">Code</h4>
                                    <pre><code class="language-java">import ddf.minim.*;

                    AudioPlayer player;
                    Minim minim;

                    String text;
                    String musicStatus = "ON";
                    String currentStage = "start";
                    String theme = "desert";
                    int grid = 4;

                    int currentScore = 0;
                    int currentMoves = 0;

                    int[][] currentGrid;

                    color[] desertColors = {#e6dfd0, #ded4c0, #d6c9b1, #cdbea1, #c5b391, #bda981, #b49e72};
                    color[] spaceColors = {#cccccc, #c0c0c0, #b3b3b3, #a6a6a6, #999999, #8d8d8d, #808080};
                    color[] forestColors = {#99c199, #80b280, #66a266, #4d934d, #338333, #197419, #006400};

                    color[] colors = desertColors;

                    void setup() {
                    // Creating the basic canvas
                    size(1000, 1000);

                    // Setting up the music player
                    minim = new Minim(this);
                    player = minim.loadFile("music.mp3");
                    player.loop();

                    // Creating the basic title page
                    setupTitlePage();
                    }

                    void draw() {
                    if (currentStage == "start") {
                        // Rendering the music settings dynamically
                        fill(colors[3]);
                        rect(150, 400, width-300, 100);
                        textSize(80);
                        fill(0);
                        text("MUSIC: " + musicStatus, (150+width-300)/2, 450);
                        fill(colors[2]);
                        rect(150+width-400, 400, 100, 100);
                        fill(0);
                        if (musicStatus == "ON") {
                        fill(0);
                        textSize(200);
                        text("-", 800, 435);
                        } else if (musicStatus == "OFF") {
                        fill(0);
                        textSize(170);
                        text("+", 800, 445);
                        }
                    } 
                    else if (currentStage == "selectingmaps") {
                        setupMapsPage();
                    }
                    else if (currentStage == "adjustinggrid") {
                        setupGridAdjust();
                    }
                    else if (currentStage == "playinggame") {
                        playGame();
                    }
                    }

                    void keyPressed() {
                    if (currentStage == "start") {
                        // Checks for mute and unmute key presses and plays music accordingly
                        if (key == 'm' || key == 'M') {
                        toggleMusic();
                        }
                    }
                    
                    else if (currentStage == "adjustinggrid"){
                        if (keyCode == UP){
                        if (grid < 10){
                            grid+=1;
                        }
                        }
                        else if (keyCode == DOWN){
                        if (grid > 4){
                            grid-=1;
                        }
                        }
                    }
                    
                    else if (currentStage == "playinggame"){
                        if (keyCode == UP){
                        currentGrid = shiftGrid(currentGrid, "up");
                        currentMoves += 1;
                        
                        int[][] freeSpots = new int[grid*grid][2];
                        int totalFree = 0;
                        for (int rows = 0; rows < grid; rows++){
                            for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                freeSpots[totalFree][0] = rows;
                                freeSpots[totalFree][1] = columns;
                                totalFree += 1;
                                }
                            }
                        }
                        
                        if (totalFree == 0 && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        int randomAddition = (int)(Math.random()*totalFree);
                        int randomNum = (int)(Math.random()*10);
                        
                        if (randomNum == 9){
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                        }
                        else{
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                        }
                        
                        }
                        else if (keyCode == DOWN){
                        currentGrid = shiftGrid(currentGrid, "down");
                        currentMoves += 1;
                        
                        int[][] freeSpots = new int[grid*grid][2];
                        int totalFree = 0;
                        for (int rows = 0; rows < grid; rows++){
                            for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                freeSpots[totalFree][0] = rows;
                                freeSpots[totalFree][1] = columns;
                                totalFree += 1;
                                }
                            }
                        }
                        
                        if (totalFree == 0 && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        int randomAddition = (int)(Math.random()*totalFree);
                        int randomNum = (int)(Math.random()*10);
                        
                        if (randomNum == 9){
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                        }
                        else{
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                        }
                        
                        }
                        else if (keyCode == LEFT){
                        currentGrid = shiftGrid(currentGrid, "left");
                        currentMoves += 1;
                        
                        int[][] freeSpots = new int[grid*grid][2];
                        int totalFree = 0;
                        for (int rows = 0; rows < grid; rows++){
                            for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                freeSpots[totalFree][0] = rows;
                                freeSpots[totalFree][1] = columns;
                                totalFree += 1;
                                }
                            }
                        }
                        
                        if (totalFree == 0 && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        int randomAddition = (int)(Math.random()*totalFree);
                        int randomNum = (int)(Math.random()*10);
                        
                        if (randomNum == 9){
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                        }
                        else{
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                        }
                        
                        }
                        else if (keyCode == RIGHT){
                        currentGrid = shiftGrid(currentGrid, "right");
                        currentMoves += 1;
                        
                        int[][] freeSpots = new int[grid*grid][2];
                        int totalFree = 0;
                        for (int rows = 0; rows < grid; rows++){
                            for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                freeSpots[totalFree][0] = rows;
                                freeSpots[totalFree][1] = columns;
                                totalFree += 1;
                                }
                            }
                        }
                        
                        if (totalFree == 0 && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        int randomAddition = (int)(Math.random()*totalFree);
                        int randomNum = (int)(Math.random()*10);
                        
                        if (randomNum == 9){
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                        }
                        else{
                            currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                        }
                        
                        }
                    }
                    
                    else if (currentStage == "finishedgame"){
                        if (key == ' '){
                        setupTitlePage();
                        }
                    }
                    }

                    void mouseClicked() {
                    if (currentStage == "start") {
                        //Check for Start Menu Buttons
                        if (mouseX >= 150 && mouseX <= 150+width-300) {
                        //Check for Music Toggle
                        if (mouseY >= 400 && mouseY <= 500) {
                            toggleMusic();
                        }

                        // Check for Toggle Map Settings Button
                        else if (mouseY >= 520 && mouseY <= 620) {
                            setupMapsPage();
                        }
                        
                        // Check for Start Game Button
                        else if (mouseY >= 670 && mouseY <= 770) {
                            currentStage = "playinggame";

                            currentScore = 0;
                            currentMoves = 0;
                            currentGrid = new int[grid][grid];
                            for (int rows = 0; rows < grid; rows++){
                            for (int columns = 0; columns < grid; columns++){
                                currentGrid[rows][columns] = 0;
                            }
                            }
                            
                            currentGrid[(int)(Math.random()*grid-1)][(int)(Math.random()*grid-1)] = 2;
                            playGame();
                        }
                        }
                    } 
                    else if (currentStage == "selectingmaps") {
                        // Check for Back Button
                        if (mouseX >= 10 && mouseX <= 70) {
                        if (mouseY >= 10 && mouseY <= 70) {
                            setupTitlePage();
                        }
                        }

                        if (theme == "desert") {
                        if (mouseX > width/2 - 110 && mouseX < (width/2 - 110) + 220) {
                            if (mouseY > 170 && mouseY < 170 + 220) {
                            theme = "desert";
                            colors = desertColors;
                            }
                        }
                        if (mouseX >= 200 && mouseX <= 200 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "forest";
                            colors = forestColors;
                            }
                        }
                        if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                            if (mouseY >= 190 && mouseY < 190 + 170) {
                            theme = "space";
                            colors = spaceColors;
                            }
                        }
                        } else if (theme == "forest") {
                        if (mouseX >= width/2 - 110 && mouseX <= (width/2 - 110) + 220) {
                            if (mouseY >= 170 && mouseY <= 170 + 220) {
                            theme = "forest";
                            colors = forestColors;
                            }
                        }
                        if (mouseX >= 200 && mouseX <= 200 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "space";
                            colors = spaceColors;
                            }
                        }
                        if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "desert";
                            colors = desertColors;
                            }
                        }
                        } else if (theme == "space") {
                        if (mouseX >= width/2 - 110 && mouseX <= (width/2 - 110) + 220) {
                            if (mouseY >= 170 && mouseY <= 170 + 220) {
                            theme = "space";
                            colors = spaceColors;
                            }
                        }
                        if (mouseX >= 200 && mouseX <= 200 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "desert";
                            colors = desertColors;
                            }
                        }
                        if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                            if (mouseY >= 190 && mouseY <= 190 + 170) {
                            theme = "forest";
                            colors = forestColors;
                            }
                        }
                        }
                        
                        // Check for adjust grid size button click
                        if (mouseX >= 150 && mouseX <= 150+width-300) {
                        if (mouseY >= 520 && mouseY <= 620) {
                            setupGridAdjust();
                        }
                        // Check for Start Game Button
                        else if (mouseY >= 670 && mouseY <= 770) {
                            currentStage = "playinggame";
                            currentScore = 0;
                            currentMoves = 0;
                            currentGrid = new int[grid][grid];
                            for (int rows = 0; rows < grid; rows++){
                                for (int columns = 0; columns < grid; columns++){
                                currentGrid[rows][columns] = 0;
                                }
                            }
                            
                            currentGrid[(int)(Math.random()*grid)][(int)(Math.random()*grid)] = 2;
                            playGame();
                            }
                        }
                    }
                    else if (currentStage == "adjustinggrid"){
                        // Check for button to go back to the theme menu
                        if (mouseX >= 10 && mouseX <= 70) {
                        if (mouseY >= 10 && mouseY <= 70) {
                            setupMapsPage();
                        }
                        }
                        rect(width/2+10, 850, 100, 100);
                        rect(width/2-110, 850, 100, 100);
                    
                        if (mouseY >= 850 && mouseY <= 950){
                        if (mouseX >= width/2+10 && mouseX <= width/2+110){
                            if (grid > 4){
                            grid-=1;
                            }
                        }
                        else if (mouseX >= width/2-110 && mouseX <= width/2-10){
                            if (grid < 10){
                            grid+=1;
                            }
                        }
                        }
                    }
                    else if (currentStage == "playinggame"){
                        if (mouseX >= 10 && mouseX <= 70) {
                        if (mouseY >= 10 && mouseY <= 70) {
                            setupTitlePage();
                        }
                        }
                    }
                    }

                    void setupFinishedGamePage(){
                    background(colors[0]);
                        
                    fill(0);
                    textSize(60);
                    
                    text("Game Over!", width/2, 50);
                    // Displaying the number of moves
                    text("Number of Moves: " + currentMoves, width/2, 110);
                    
                    // Displaying the score of the user
                    text("Total Score: " + currentScore, width/2, 170);
                    
                    text("Final Grid", width/2, 270);
                    
                    // Displaying the Grid
                    for (int rows = 0; rows < grid; rows++){
                        for (int columns = 0; columns < grid; columns++){
                        fill(colors[4]);
                        rect(225+rows*(525/grid+4), 320+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                        
                        if (currentGrid[rows][columns] != 0){
                            fill(colors[((powerOfTwo(currentGrid[rows][columns])%colors.length))]);
                            rect(225+rows*(525/grid+4), 320+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                            
                            fill(0);
                            textSize(30);
                            text(currentGrid[rows][columns], (225+rows*(525/grid+4)+(530/grid-4)/2), (320+columns*(525/grid+4)+(530/grid-4)/2));
                        }
                        }
                    }
                    
                    text("Press SPACE to Continue", width/2, height-100);
                        
                    }

                    int checkPossibleCollisions(int[][] currentGrid){
                    int possibleCollisions = 0;
                    int[][] newGrid = currentGrid;
                    
                    for (int row=1; row<grid; row++){
                        for (int column=0; column<grid; column++){
                        if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                            possibleCollisions++;
                        }
                        }
                    }
                    for (int row=grid-1; row>0; row--){
                        for (int column=0; column<grid; column++){
                        if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                            possibleCollisions++;
                        }
                        }
                    }
                    for (int row=0; row<grid; row++){
                        for (int column=1; column<grid; column++){
                        if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                            possibleCollisions++;
                        }
                        }
                    }
                    for (int row=0; row<grid; row++){
                        for (int column=grid-1; column>0; column--){
                        if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                            possibleCollisions++;
                        }
                        }
                    }
                    
                    return possibleCollisions;
                    }

                    int[][] checkCollisions(int[][] currentGrid, String direction){
                    int[][] newGrid = currentGrid;
                    
                    switch (direction) {
                        case "left":
                        for (int row=1; row<grid; row++){
                            for (int column=0; column<grid; column++){
                            if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                                newGrid[row-1][column] = newGrid[row][column]+newGrid[row-1][column];
                                newGrid[row][column] = 0;
                                currentScore+=newGrid[row][column]+newGrid[row-1][column];
                            }
                            }
                        }
                        break;
                        
                        case "right":
                        for (int row=grid-1; row>0; row--){
                            for (int column=0; column<grid; column++){
                            if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                                newGrid[row][column] = newGrid[row][column]+newGrid[row-1][column];
                                newGrid[row-1][column] = 0;
                                currentScore+=newGrid[row][column]+newGrid[row-1][column];
                            }
                            }
                        }
                        break;
                        
                        case "up":
                        for (int row=0; row<grid; row++){
                            for (int column=1; column<grid; column++){
                            if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                                newGrid[row][column-1] = newGrid[row][column]+newGrid[row][column-1];
                                newGrid[row][column] = 0;
                                currentScore+=newGrid[row][column]+newGrid[row][column-1];
                            }
                            }
                        }
                        break;
                        
                        case "down":
                        for (int row=0; row<grid; row++){
                            for (int column=grid-1; column>0; column--){
                            if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                                newGrid[row][column] = newGrid[row][column]+newGrid[row][column-1];
                                newGrid[row][column-1] = 0;
                                currentScore+=newGrid[row][column]+newGrid[row][column-1];
                            }
                            }
                        }
                        break;
                    }
                    
                    return newGrid;
                    }

                    int[][] shiftGrid(int[][] currentGrid, String direction) {
                    
                    int[][] newGrid = new int[grid][grid];
                    currentGrid = checkCollisions(currentGrid, direction);
                    
                    switch (direction) {
                        case "up":
                        for (int i=0; i<grid; i++){
                            int[] filled = new int[grid];
                            int filledCount = 0;
                            
                            for (int number : currentGrid[i]){
                            if (number != 0){
                                filled[filledCount] = number;
                                filledCount++;
                            }
                            }
                            
                            for (int x=grid-filledCount; x>0; x--){
                            filled[filledCount+x-1] = 0;
                            }
                            newGrid[i] = filled;
                        }
                        break;
                        
                        case "down":
                        for (int i = 0; i < grid; i++) {
                            int[] filled = new int[grid];
                            int filledCount = 0;
                        
                            for (int x = grid - 1; x >= 0; x--) {
                            if (currentGrid[i][x] != 0) {
                                filled[filledCount] = currentGrid[i][x];
                                filledCount++;
                            }
                            }
                        
                            for (int x = 0; x < filledCount; x++) {
                            newGrid[i][grid - 1 - x] = filled[x];
                            }

                            for (int x = 0; x < grid - filledCount; x++) {
                            newGrid[i][x] = 0;
                            }
                        }
                        break;
                        
                        case "left":
                        for (int i = 0; i < grid; i++) {
                            int[] filled = new int[grid];
                            int filledCount = 0;
                    
                            for (int x = 0; x < grid; x++) {
                            if (currentGrid[x][i] != 0) {
                                filled[filledCount] = currentGrid[x][i];
                                filledCount++;
                            }
                            }
                    
                            int y = grid - 1;
                            for (int x = grid-filledCount - 1; x >= 0; x--) {
                            newGrid[y][i] = 0;
                            y--;
                            }
                            while (y >= 0) {
                            newGrid[y][i] = filled[y];
                            y--;
                            }
                        }
                        break;
                        
                        case "right":
                        for (int i = 0; i < grid; i++) {
                            int[] filled = new int[grid];
                            int filledCount = 0;
                    
                            for (int x = 0; x < grid; x++) {
                            if (currentGrid[x][i] != 0) {
                                filled[filledCount] = currentGrid[x][i];
                                filledCount++;
                            }
                            }
                    
                            int y = grid - 1;
                            for (int x = filledCount - 1; x >= 0; x--) {
                            newGrid[y][i] = filled[x];
                            y--;
                            }
                    
                            while (y >= 0) {
                            newGrid[y][i] = 0;
                            y--;
                            }
                        }
                        break;
                    }
                    
                    return checkCollisions(newGrid, direction);
                    }

                    int powerOfTwo(int n) {
                    int power = 0;
                    while (n > 1) {
                        n /= 2;
                        power++;
                    }
                    return power;
                    }

                    void playGame(){
                    currentStage = "playinggame";
                    
                    background(colors[0]);
                    
                    // Draw button background (rectangle)
                    fill(200);
                    rect(10, 10, 60, 60, 10);  // rounded corners

                    // Draw left-pointing arrow
                    fill(0);
                    beginShape();
                    vertex(20, 40);
                    vertex(60, 20);
                    vertex(60, 60);
                    endShape(CLOSE);
                    
                    textSize(60);
                    // Displaying the number of moves
                    text("Number of Moves: " + currentMoves, width/2, 100);
                    
                    // Displaying the score of the user
                    text("Total Score: " + currentScore, width/2, 160);
                    
                    // Displaying the Grid
                    for (int rows = 0; rows < grid; rows++){
                        for (int columns = 0; columns < grid; columns++){
                        fill(colors[4]);
                        rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                        
                        if (currentGrid[rows][columns] != 0){
                            fill(colors[((powerOfTwo(currentGrid[rows][columns])%colors.length))]);
                            rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                            
                            fill(0);
                            textSize(30);
                            text(currentGrid[rows][columns], (225+rows*(525/grid+4)+(530/grid-4)/2), (225+columns*(525/grid+4)+(530/grid-4)/2));
                        }
                        }
                    }
                    }

                    void setupGridAdjust(){
                    background(colors[0]);
                    currentStage = "adjustinggrid";
                    // Draw button background (rectangle)
                    fill(200);
                    rect(10, 10, 60, 60, 10);  // rounded corners

                    // Draw left-pointing arrow
                    fill(0);
                    beginShape();
                    vertex(20, 40);
                    vertex(60, 20);
                    vertex(60, 60);
                    endShape(CLOSE);
                    
                    text("Adjust Grid Size", (width)/2, 70);
                    
                    // Showing Main Grid 
                    fill(colors[1]);
                    rect(200, 200, 600, 600, 50);
                    
                    currentGrid = new int[grid][grid];
                    
                    fill(colors[4]);
                    for (int rows = 0; rows < grid; rows++){
                        for (int columns = 0; columns < grid; columns++){
                        rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                        currentGrid[rows][columns] = 0;
                        }
                    }
                    
                    rect(width/2+10, 850, 100, 100);
                    rect(width/2-110, 850, 100, 100);
                    
                    // Draw the Up arrow inside the left rectangle
                    fill(0); // Set color to black
                    beginShape();
                    vertex(width/2-110+50, 850+25);  
                    vertex(width/2-110+10, 850+75); 
                    vertex(width/2-110+90, 850+75);  
                    endShape(CLOSE);
                    
                    // Draw the Down arrow inside the right rectangle
                    beginShape();
                    vertex(width/2+10+50, 850+75);  
                    vertex(width/2+10+10, 850+25);  
                    vertex(width/2+10+90, 850+25);  
                    endShape(CLOSE);

                    }

                    void setupMapsPage() {
                    background(colors[0]);
                    currentStage = "selectingmaps";
                    // Draw button background (rectangle)
                    fill(200);
                    rect(10, 10, 60, 60, 10);  // rounded corners

                    // Draw left-pointing arrow
                    fill(0);
                    beginShape();
                    vertex(20, 40);
                    vertex(60, 20);
                    vertex(60, 60);
                    endShape(CLOSE);

                    textSize(80);
                    text("Select Your Map", (width)/2, 70);

                    if (theme == "desert") {
                        fill(colors[4]);
                        rect(width/2-110, 170, 220, 220);
                        textSize(60);
                        fill(0);
                        text("Desert", (width)/2, 270);

                        fill(colors[1]);
                        rect(200, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Forest", 285, 270);

                        fill(colors[1]);
                        rect((width/2-110)+240, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Space", (width/2-110)+240+85, 270);
                    } else if (theme == "forest") {
                        fill(colors[4]);
                        rect(width/2-110, 170, 220, 220);
                        textSize(60);
                        fill(0);
                        text("Forest", (width)/2, 270);

                        fill(colors[1]);
                        rect(200, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Space", 285, 270);

                        fill(colors[1]);
                        rect((width/2-110)+240, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Desert", (width/2-110)+240+85, 270);
                    } else if (theme == "space") {
                        fill(colors[4]);
                        rect(width/2-110, 170, 220, 220);
                        textSize(60);
                        fill(0);
                        text("Space", (width)/2, 270);

                        fill(colors[1]);
                        rect(200, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Desert", 285, 270);

                        fill(colors[1]);
                        rect((width/2-110)+240, 190, 170, 170);
                        textSize(40);
                        fill(0);
                        text("Forest", (width/2-110)+240+85, 270);
                    }
                    
                    // Rendering the Change Map Dimensions button
                    fill(colors[3]);
                    rect(150, 520, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("Adjust Grid Size", (width)/2, 570);

                    // Rendering the Start Game button
                    fill(colors[3]);
                    rect(150, 670, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("START GAME", (width)/2, 720);
                    }

                    void toggleMusic() {
                    // Method to toggle music depending on current status
                    if (musicStatus == "ON") {
                        musicStatus = "OFF";
                        player.close();
                        minim.stop();
                    } else if (musicStatus == "OFF") {
                        musicStatus = "ON";
                        minim = new Minim(this);
                        player = minim.loadFile("music.mp3");
                        player.loop();
                    }
                    }

                    void setupTitlePage() {
                    // Set up basic title page

                    background(colors[0]);

                    textSize(150);
                    fill(0);
                    textAlign(CENTER, CENTER);
                    text("2048:", width/2, 100);
                    textSize(160);
                    text("POWER", width/2, 250);
                    currentStage = "start";

                    // Rendering the Toggle Map Settings button
                    fill(colors[3]);
                    rect(150, 520, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("Toggle Map Settings", (width)/2, 570);

                    // Rendering the Start Game button
                    fill(colors[3]);
                    rect(150, 670, width-300, 100);
                    textSize(60);
                    fill(0);
                    text("START GAME", (width)/2, 720);

                    // Printed instructions for menu selection
                    textSize(50);
                    fill(0);
                    textAlign(CENTER, CENTER);
                    text("Press M to mute/unmute", width/2, 850);
                    textSize(50);
                    text("Use mouse to select menu", width/2, 900);
                    }</code></pre>
                                    <a href="processing/culminating3.pde" class="btn btn-portfolio">
                                        <i class="fas fa-code"></i> Download Code File
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Day 4 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Day 3 - June 11th, 2025
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#culminatingAccordion">
                            <div class="accordion-body">
                                <div class="project-item">
                                    <h4 class="project-title">Journal Entry</h4>
                                    <div class="project-description">
                                        <p>Today was a highly productive day where I implemented the core game mechanics:</p>
                                        <ul class="project-tasks">
                                            <li>Fixed a corner tile bug</li>
                                            <li>Checked for useless moves and made sure they did not count</li>
                                            <li>Added 5 power ups for various different purposes</li>
                                            <li>Created a view instructions page</li>
                                        </ul>
                                        <p><strong>Thoughts:</strong> While on paper, it may look like not much was done today, that may have been true due to me being distracted however today was a solid day where I developed several monumental features of the game. I finished the basic functionality of the game as normal 2048, all that is left to do is to integrate my twist on things, add finishing touches, and go back and comment on the code. With that being said, due to the fact that I only have two days left to finish this project, the pressure is rising and it is turning into more of a race against time.</p>
                                    </div>
                                    <h4 class="project-title">Code</h4>
                                    <pre><code class="language-java">
                                        import ddf.minim.*;

                                        AudioPlayer player;
                                        Minim minim;

                                        PImage lightning;
                                        PImage undo;
                                        PImage hammer;

                                        String text;
                                        String musicStatus = "ON";
                                        String currentStage = "start";
                                        String theme = "desert";
                                        int grid = 4;

                                        String warning = "Welcome to the Game! Make your first move!";

                                        int currentScore = 0;
                                        int currentMoves = 0;

                                        boolean foursOnly = false;
                                        int fours = 0;

                                        boolean doubleMode = false;
                                        int doubles = 0;

                                        int[][] currentGrid;
                                        int[][] lastGrid;

                                        color[] desertColors = {#e6dfd0, #ded4c0, #d6c9b1, #cdbea1, #c5b391, #bda981, #b49e72};
                                        color[] spaceColors = {#cccccc, #c0c0c0, #b3b3b3, #a6a6a6, #999999, #8d8d8d, #808080};
                                        color[] forestColors = {#99c199, #80b280, #66a266, #4d934d, #338333, #197419, #006400};

                                        color[] colors = desertColors;

                                        void setup() {
                                        // Creating the basic canvas
                                        size(1000, 1000);
                                        
                                        // Holding lightning powerup image
                                        lightning = loadImage("lightningbolt.png");
                                        lightning.resize(80,80);
                                        
                                        undo = loadImage("undoicon.png");
                                        undo.resize(70,70);
                                        
                                        hammer = loadImage("hammer.png");
                                        hammer.resize(70,70);

                                        // Setting up the music player
                                        minim = new Minim(this);
                                        player = minim.loadFile("music.mp3");
                                        player.loop();

                                        // Creating the basic title page
                                        setupTitlePage();
                                        }

                                        void draw() {
                                        if (currentStage == "start") {
                                            // Rendering the music settings dynamically
                                            fill(colors[3]);
                                            rect(150, 400, width-300, 100);
                                            textSize(80);
                                            fill(0);
                                            text("MUSIC: " + musicStatus, (150+width-300)/2, 450);
                                            fill(colors[2]);
                                            rect(150+width-400, 400, 100, 100);
                                            fill(0);
                                            if (musicStatus == "ON") {
                                            fill(0);
                                            textSize(200);
                                            text("-", 800, 435);
                                            } else if (musicStatus == "OFF") {
                                            fill(0);
                                            textSize(170);
                                            text("+", 800, 445);
                                            }
                                        } 
                                        else if (currentStage == "selectingmaps") {
                                            setupMapsPage();
                                        }
                                        else if (currentStage == "adjustinggrid") {
                                            setupGridAdjust();
                                        }
                                        else if (currentStage == "playinggame") {
                                            playGame();
                                        }
                                        }

                                        void keyPressed() {
                                        if (currentStage == "start") {
                                            // Checks for mute and unmute key presses and plays music accordingly
                                            if (key == 'm' || key == 'M') {
                                            toggleMusic();
                                            }
                                        }
                                        
                                        else if (currentStage == "adjustinggrid"){
                                            if (keyCode == UP){
                                            if (grid < 10){
                                                grid+=1;
                                            }
                                            }
                                            else if (keyCode == DOWN){
                                            if (grid > 4){
                                                grid-=1;
                                            }
                                            }
                                        }
                                        
                                        else if (currentStage == "playinggame"){
                                            if (keyCode == UP){
                                            warning = "";
                                            int[][] tempGrid = shiftGrid(currentGrid, "up");
                                            int changes = 0;
                                            boolean trigger = true;
                                            
                                            for (int row=0; row<grid; row++){
                                                for (int column=0; column<grid; column++){
                                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                                    changes+=1;
                                                }
                                                if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                                    trigger = false;
                                                }
                                                }
                                            }
                                            
                                            if (trigger && checkPossibleCollisions(currentGrid) == 0){
                                                currentStage = "finishedgame";
                                                setupFinishedGamePage();
                                            }
                                            
                                            if (changes!=0 || !trigger){
                                                lastGrid = currentGrid;
                                                currentGrid = shiftGrid(currentGrid, "up");
                                                
                                                if (changes!=0){
                                                currentMoves += 1;
                                                }
                                                
                                                int[][] freeSpots = new int[grid*grid][2];
                                                int totalFree = 0;
                                                for (int rows = 0; rows < grid; rows++){
                                                    for (int columns = 0; columns < grid; columns++){
                                                    if (currentGrid[rows][columns] == 0){
                                                        freeSpots[totalFree][0] = rows;
                                                        freeSpots[totalFree][1] = columns;
                                                        totalFree += 1;
                                                    }
                                                    }
                                                }
                                                
                                                int randomAddition = (int)(Math.random()*totalFree);
                                                int randomNum = (int)(Math.random()*10);
                                                
                                                if (doubles == 10){
                                                doubleMode = false;
                                                }
                                                if (doubleMode){
                                                doubles+=1;
                                                }
                                                
                                                if (fours == 10){
                                                foursOnly = false;
                                                fours = 0;
                                                }
                                                if (foursOnly){
                                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                fours+=1;
                                                }
                                                else {
                                                if (totalFree != 0 && changes != 0){
                                                    if (randomNum == 9){
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                    }
                                                    else{
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                                    }
                                                }
                                                }
                                                }
                                            }
                                            else if (keyCode == DOWN){
                                            warning = "";
                                            int[][] tempGrid = shiftGrid(currentGrid, "down");
                                            int changes = 0;
                                            boolean trigger = true;
                                            
                                            for (int row=0; row<grid; row++){
                                                for (int column=0; column<grid; column++){
                                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                                    changes+=1;
                                                }
                                                if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                                    trigger = false;
                                                }
                                                }
                                            }
                                            
                                            if (trigger && checkPossibleCollisions(currentGrid) == 0){
                                                currentStage = "finishedgame";
                                                setupFinishedGamePage();
                                            }
                                                
                                            if (changes!=0 || !trigger){
                                                lastGrid = currentGrid;
                                                currentGrid = shiftGrid(currentGrid, "down");
                                                
                                                if (changes!=0){
                                                currentMoves += 1;
                                                }
                                                
                                                int[][] freeSpots = new int[grid*grid][2];
                                                int totalFree = 0;
                                                for (int rows = 0; rows < grid; rows++){
                                                    for (int columns = 0; columns < grid; columns++){
                                                    if (currentGrid[rows][columns] == 0){
                                                        freeSpots[totalFree][0] = rows;
                                                        freeSpots[totalFree][1] = columns;
                                                        totalFree += 1;
                                                    }
                                                    }
                                                }
                                                
                                                int randomAddition = (int)(Math.random()*totalFree);
                                                int randomNum = (int)(Math.random()*10);
                                                
                                                if (doubles == 10){
                                                doubleMode = false;
                                                }
                                                if (doubleMode){
                                                doubles+=1;
                                                }
                                                
                                                if (fours == 10){
                                                foursOnly = false;
                                                fours = 0;
                                                }
                                                if (foursOnly){
                                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                fours+=1;
                                                }
                                                else {
                                                if (totalFree != 0 && changes != 0){
                                                    if (randomNum == 9){
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                    }
                                                    else{
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                                    }
                                                }
                                                }
                                            }
                                            
                                            }
                                            else if (keyCode == LEFT){
                                            warning = "";
                                            int[][] tempGrid = shiftGrid(currentGrid, "left");
                                            int changes = 0;
                                            boolean trigger = true;
                                            
                                            for (int row=0; row<grid; row++){
                                                for (int column=0; column<grid; column++){
                                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                                    changes+=1;
                                                }
                                                if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                                    trigger = false;
                                                }
                                                }
                                            }
                                            
                                            if (trigger && checkPossibleCollisions(currentGrid) == 0){
                                                currentStage = "finishedgame";
                                                setupFinishedGamePage();
                                            }
                                            
                                            if (changes!=0 || !trigger){
                                                lastGrid = currentGrid;
                                                currentGrid = shiftGrid(currentGrid, "left");
                                                
                                                if (changes!=0){
                                                currentMoves += 1;
                                                }
                                                
                                                int[][] freeSpots = new int[grid*grid][2];
                                                int totalFree = 0;
                                                for (int rows = 0; rows < grid; rows++){
                                                    for (int columns = 0; columns < grid; columns++){
                                                    if (currentGrid[rows][columns] == 0){
                                                        freeSpots[totalFree][0] = rows;
                                                        freeSpots[totalFree][1] = columns;
                                                        totalFree += 1;
                                                    }
                                                    }
                                                }
                                                
                                                int randomAddition = (int)(Math.random()*totalFree);
                                                int randomNum = (int)(Math.random()*10);
                                                
                                                if (doubles == 10){
                                                doubleMode = false;
                                                }
                                                if (doubleMode){
                                                doubles+=1;
                                                }
                                                
                                                if (fours == 10){
                                                foursOnly = false;
                                                fours = 0;
                                                }
                                                if (foursOnly){
                                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                fours+=1;
                                                }
                                                else {
                                                if (totalFree != 0 && changes != 0){
                                                    if (randomNum == 9){
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                    }
                                                    else{
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                                    }
                                                }
                                                }
                                            }
                                            
                                            }
                                            else if (keyCode == RIGHT){
                                            warning = "";
                                            int[][] tempGrid = shiftGrid(currentGrid, "right");
                                            int changes = 0;
                                            boolean trigger = true;
                                            
                                            for (int row=0; row<grid; row++){
                                                for (int column=0; column<grid; column++){
                                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                                    changes+=1;
                                                }
                                                if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                                    trigger = false;
                                                }
                                                }
                                            }
                                            
                                            if (trigger && checkPossibleCollisions(currentGrid) == 0){
                                                currentStage = "finishedgame";
                                                setupFinishedGamePage();
                                            }
                                            
                                            if (changes!=0 || !trigger){
                                                lastGrid = currentGrid;
                                                currentGrid = shiftGrid(currentGrid, "right");
                                                
                                                if (changes!=0){
                                                currentMoves += 1;
                                                }
                                                
                                                int[][] freeSpots = new int[grid*grid][2];
                                                int totalFree = 0;
                                                for (int rows = 0; rows < grid; rows++){
                                                    for (int columns = 0; columns < grid; columns++){
                                                    if (currentGrid[rows][columns] == 0){
                                                        freeSpots[totalFree][0] = rows;
                                                        freeSpots[totalFree][1] = columns;
                                                        totalFree += 1;
                                                    }
                                                    }
                                                }
                                                
                                                int randomAddition = (int)(Math.random()*totalFree);
                                                int randomNum = (int)(Math.random()*10);
                                                
                                                if (doubles == 10){
                                                doubleMode = false;
                                                }
                                                if (doubleMode){
                                                doubles+=1;
                                                }
                                                
                                                if (fours == 10){
                                                foursOnly = false;
                                                fours = 0;
                                                }
                                                if (foursOnly){
                                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                fours+=1;
                                                }
                                                else {
                                                if (totalFree != 0 && changes != 0){
                                                    if (randomNum == 9){
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                                    }
                                                    else{
                                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                                    }
                                                }
                                                }
                                            }
                                            }
                                        }
                                        
                                        else if (currentStage == "finishedgame"){
                                            if (key == ' '){
                                            setupTitlePage();
                                            }
                                        }
                                        }

                                        void mouseClicked() {
                                        if (currentStage == "start") {
                                            //Check for Start Menu Buttons
                                            if (mouseX >= 150 && mouseX <= 150+width-300) {
                                            //Check for Music Toggle
                                            if (mouseY >= 400 && mouseY <= 500) {
                                                toggleMusic();
                                            }

                                            // Check for Toggle Map Settings Button
                                            else if (mouseY >= 520 && mouseY <= 620) {
                                                setupMapsPage();
                                            }
                                            
                                            // Check for Start Game Button
                                            else if (mouseY >= 670 && mouseY <= 770) {
                                                currentStage = "playinggame";

                                                currentScore = 0;
                                                currentMoves = 0;
                                                currentGrid = new int[grid][grid];
                                                for (int rows = 0; rows < grid; rows++){
                                                for (int columns = 0; columns < grid; columns++){
                                                    currentGrid[rows][columns] = 0;
                                                }
                                                }
                                                
                                                currentGrid[(int)(Math.random()*grid-1)][(int)(Math.random()*grid-1)] = 2;
                                                playGame();
                                            }
                                            }
                                        } 
                                        else if (currentStage == "selectingmaps") {
                                            // Check for Back Button
                                            if (mouseX >= 10 && mouseX <= 70) {
                                            if (mouseY >= 10 && mouseY <= 70) {
                                                setupTitlePage();
                                            }
                                            }

                                            if (theme == "desert") {
                                            if (mouseX > width/2 - 110 && mouseX < (width/2 - 110) + 220) {
                                                if (mouseY > 170 && mouseY < 170 + 220) {
                                                theme = "desert";
                                                colors = desertColors;
                                                }
                                            }
                                            if (mouseX >= 200 && mouseX <= 200 + 170) {
                                                if (mouseY >= 190 && mouseY <= 190 + 170) {
                                                theme = "forest";
                                                colors = forestColors;
                                                }
                                            }
                                            if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                                                if (mouseY >= 190 && mouseY < 190 + 170) {
                                                theme = "space";
                                                colors = spaceColors;
                                                }
                                            }
                                            } else if (theme == "forest") {
                                            if (mouseX >= width/2 - 110 && mouseX <= (width/2 - 110) + 220) {
                                                if (mouseY >= 170 && mouseY <= 170 + 220) {
                                                theme = "forest";
                                                colors = forestColors;
                                                }
                                            }
                                            if (mouseX >= 200 && mouseX <= 200 + 170) {
                                                if (mouseY >= 190 && mouseY <= 190 + 170) {
                                                theme = "space";
                                                colors = spaceColors;
                                                }
                                            }
                                            if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                                                if (mouseY >= 190 && mouseY <= 190 + 170) {
                                                theme = "desert";
                                                colors = desertColors;
                                                }
                                            }
                                            } else if (theme == "space") {
                                            if (mouseX >= width/2 - 110 && mouseX <= (width/2 - 110) + 220) {
                                                if (mouseY >= 170 && mouseY <= 170 + 220) {
                                                theme = "space";
                                                colors = spaceColors;
                                                }
                                            }
                                            if (mouseX >= 200 && mouseX <= 200 + 170) {
                                                if (mouseY >= 190 && mouseY <= 190 + 170) {
                                                theme = "desert";
                                                colors = desertColors;
                                                }
                                            }
                                            if (mouseX >= (width/2 - 110) + 240 && mouseX <= (width/2 - 110) + 240 + 170) {
                                                if (mouseY >= 190 && mouseY <= 190 + 170) {
                                                theme = "forest";
                                                colors = forestColors;
                                                }
                                            }
                                            }
                                            
                                            // Check for adjust grid size button click
                                            if (mouseX >= 150 && mouseX <= 150+width-300) {
                                            if (mouseY >= 520 && mouseY <= 620) {
                                                setupGridAdjust();
                                            }
                                            // Check for Start Game Button
                                            else if (mouseY >= 670 && mouseY <= 770) {
                                                currentStage = "playinggame";
                                                currentScore = 0;
                                                currentMoves = 0;
                                                currentGrid = new int[grid][grid];
                                                for (int rows = 0; rows < grid; rows++){
                                                    for (int columns = 0; columns < grid; columns++){
                                                    currentGrid[rows][columns] = 0;
                                                    }
                                                }
                                                
                                                currentGrid[(int)(Math.random()*grid)][(int)(Math.random()*grid)] = 2;
                                                playGame();
                                                }
                                            
                                            // Check for View Instructions Button
                                            else if  (mouseY >= 780 && mouseY <= 880){
                                                currentStage = "viewinstructions";
                                                viewInstructions(); 
                                            }
                                            
                                            // Check for View Previous Scores Button
                                            else if  (mouseY >= 890 && mouseY <= 990){
                                                currentStage = "viewingprevious";
                                                viewPrevious(); 
                                            }
                                            }
                                        }
                                        else if (currentStage == "adjustinggrid"){
                                            // Check for button to go back to the theme menu
                                            if (mouseX >= 10 && mouseX <= 70) {
                                            if (mouseY >= 10 && mouseY <= 70) {
                                                setupMapsPage();
                                            }
                                            }
                                            rect(width/2+10, 850, 100, 100);
                                            rect(width/2-110, 850, 100, 100);
                                        
                                            if (mouseY >= 850 && mouseY <= 950){
                                            if (mouseX >= width/2+10 && mouseX <= width/2+110){
                                                if (grid > 4){
                                                grid-=1;
                                                }
                                            }
                                            else if (mouseX >= width/2-110 && mouseX <= width/2-10){
                                                if (grid < 10){
                                                grid+=1;
                                                }
                                            }
                                            }
                                        }
                                        else if (currentStage == "playinggame"){
                                            if (mouseX >= 10 && mouseX <= 70) {
                                            if (mouseY >= 10 && mouseY <= 70) {
                                                setupTitlePage();
                                            }
                                            }
                                            
                                            if (mouseX >= 225 && mouseX <= 325){
                                            if (mouseY >= 800 && mouseY <= 900){
                                                combineAllPowerup();
                                            }
                                            }
                                            
                                            if (mouseX >= 335 && mouseX <= 435){
                                            if (mouseY >= 800 && mouseY <= 900){
                                            if (currentScore>=100*grid){
                                                currentScore -= 100*grid;
                                                foursOnly = true;
                                                }
                                                else{
                                                warning = "You need " + (100*grid-currentScore) + " more score!";
                                                }
                                            }
                                            }
                                            
                                            if (mouseX >= 445 && mouseX <= 545){
                                            if (mouseY >= 800 && mouseY <= 900){
                                                if (currentScore>=50*grid){
                                                currentScore -= 50*grid;
                                                currentGrid = lastGrid;
                                                warning = "The last move has been undone";
                                                }
                                                else{
                                                warning = "You need " + (50*grid-currentScore) + " more score!";
                                                }
                                            }
                                            }
                                            
                                            if (mouseX >= 555 && mouseX <= 655){
                                            if (mouseY >= 800 && mouseY <= 900){
                                                randomTileBreak();
                                            }
                                            }
                                            
                                            if (mouseX >= 665 && mouseX <= 765){
                                            if (mouseY >= 800 && mouseY <= 900){
                                                if (currentScore>=200*grid){
                                                currentScore -= 200*grid;
                                                doubleMode = true;
                                                }
                                                else{
                                                warning = "You need " + (200*grid-currentScore) + " more score!";
                                                }
                                            }
                                            }
                                        }
                                        else if (currentStage == "viewinstructions"){
                                            if (mouseX >= 10 && mouseX <= 70) {
                                            if (mouseY >= 10 && mouseY <= 70) {
                                                setupMapsPage();
                                            }
                                            }
                                            
                                            //Check for Start Menu Buttons
                                            if (mouseX >= 150 && mouseX <= 150+width-300) {
                                            
                                            // Check for Start Game Button
                                            if (mouseY >= 670 && mouseY <= 770) {
                                                currentStage = "playinggame";

                                                currentScore = 0;
                                                currentMoves = 0;
                                                currentGrid = new int[grid][grid];
                                                for (int rows = 0; rows < grid; rows++){
                                                for (int columns = 0; columns < grid; columns++){
                                                    currentGrid[rows][columns] = 0;
                                                }
                                                }
                                                
                                                currentGrid[(int)(Math.random()*grid-1)][(int)(Math.random()*grid-1)] = 2;
                                                playGame();
                                            }
                                            }
                                        }
                                        }

                                        void randomTileBreak(){
                                        int filledSquare = 0;
                                        int[][] filledGrid = new int[grid*grid][2];
                                        
                                        for (int rows = 0; rows < grid; rows++){
                                            for (int columns = 0; columns < grid; columns++){
                                            if (currentGrid[rows][columns] != 0 && currentGrid[rows][columns] != 2){
                                                filledGrid[filledSquare][0] = rows;
                                                filledGrid[filledSquare][1] = columns;
                                                filledSquare++;
                                            }
                                            }
                                        }
                                        
                                        if (filledSquare > 0){
                                            if (currentScore>=25*grid){
                                            currentScore -= 25*grid;
                                            
                                            int randomIndex = (int)(Math.random()*(filledSquare));
                                            int[] randomSquare = filledGrid[randomIndex];
                                            
                                            currentGrid[randomSquare[0]][randomSquare[1]] = 0;
                                            }
                                            else{
                                            warning = "You need " + 25*grid + " more score!";
                                            }
                                        }
                                        else {
                                            warning = "You need more than 1 filled non-two tile!";
                                        }
                                        }

                                        void combineAllPowerup(){
                                        
                                        int filledSquare = 0;
                                        
                                        for (int rows = 0; rows < grid; rows++){
                                            for (int columns = 0; columns < grid; columns++){
                                            if (currentGrid[rows][columns] != 0 && currentGrid[rows][columns] != 2){
                                                filledSquare++;
                                            }
                                            }
                                        }
                                        
                                        if (filledSquare > 0){
                                            int newSquare = closestTwoPower(currentScore/2);
                                            currentScore /= 4;
                                            
                                            currentGrid = new int[grid][grid];
                                            for (int rows = 0; rows < grid; rows++){
                                            for (int columns = 0; columns < grid; columns++){
                                                currentGrid[rows][columns] = 0;
                                            }
                                            }
                                                    
                                            currentGrid[(int)(Math.random()*grid)][(int)(Math.random()*grid)] = newSquare;
                                        }
                                        else {
                                            warning = "You need more than 1 filled non-two tile!";
                                        }
                                        }

                                        int closestTwoPower(int num){
                                        
                                        int counter = 1;
                                        
                                        //ArrayList<int> powersOfTwo = new ArrayList<>();
                                        
                                        while (num > counter){
                                            counter*=2;
                                            //powersOfTwo.add(counter);
                                        }
                                        
                                        if (abs(num-counter)>=abs(num-counter/2)){
                                            counter/=2;
                                        }
                                        
                                        return counter;
                                        
                                        }

                                        void viewPrevious(){
                                        background(colors[0]);
                                        
                                        // Draw button background (rectangle)
                                        fill(200);
                                        rect(10, 10, 60, 60, 10);  // rounded corners

                                        // Draw left-pointing arrow
                                        fill(0);
                                        beginShape();
                                        vertex(20, 40);
                                        vertex(60, 20);
                                        vertex(60, 60);
                                        endShape(CLOSE);
                                        
                                        try{
                                            BufferedReader sentenceReader = new BufferedReader(new java.io.FileReader("scores.txt"));
                                            String currentLine = sentenceReader.readLine();
                                            int numberOfScores = 0;
                                            textSize(40);
                                            while (currentLine != null) {
                                                text(currentLine, width/2, 100+numberOfScores*40);
                                                numberOfScores++;
                                                currentLine = sentenceReader.readLine();
                                            }
                                            sentenceReader.close();
                                        }
                                        catch (IOException e) {
                                            e.printStackTrace();
                                        }
                                        }


                                        void viewInstructions(){
                                        background(colors[0]);

                                        // Draw button background (rectangle)
                                        fill(200);
                                        rect(10, 10, 60, 60, 10);  // rounded corners

                                        // Draw left-pointing arrow
                                        fill(0);
                                        beginShape();
                                        vertex(20, 40);
                                        vertex(60, 20);
                                        vertex(60, 60);
                                        endShape(CLOSE);

                                        // Display main instructions
                                        textSize(70);
                                        textAlign(CENTER, CENTER);
                                        text("Use ← ↑ ↓ → keys to move tiles", width/2, 150);

                                        textSize(40);
                                        text("Combine Like Tiles to Create a Larger Tile", width/2, 250);

                                        textSize(60);
                                        text("Goal: Reach the 2048 tile!", width/2, 310);
                                        text("Example: 2 + 2 → 4, 4 + 4 → 8", width/2, 370);

                                        // Rendering the Start Game button
                                        fill(colors[3]);
                                        rect(150, 670, width - 300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("START GAME", (width) / 2, 720);

                                        // Power-Up Button Layout
                                        // Lightning Power-Up Button
                                        fill(colors[1]);
                                        rect(225, 800, 100, 100, 10);
                                        image(lightning, 233, 810);
                                        
                                        // 444 Power-Up Button
                                        fill(colors[1]);
                                        rect(335, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        text("444", 385, 850);
                                        
                                        // Undo Power-Up Button
                                        fill(colors[1]);
                                        rect(445, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        image(undo, 460, 815);
                                        
                                        // Hammer Power-Up Button
                                        fill(colors[1]);
                                        rect(555, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        image(hammer, 570, 815);
                                        
                                        // 2x Power-Up Button
                                        fill(colors[1]);
                                        rect(665, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        text("2x", 715, 850);

                                        // Power-Up Descriptions (Make sure they fit between height 420 and 670)
                                        textSize(20);  // Smaller font size
                                        fill(0);
                                        textAlign(LEFT, TOP);

                                        // Lightning Power-Up Description
                                        text("Lightning: Clears the board, leaves 1 tile (closest power of 2 to score/2), costs current score/4", 100, 450);

                                        // 444 Power-Up Description
                                        text("444: Spawns 10 '4' tiles in a row, costs 100 per grid size", 100, 480);

                                        // Undo Power-Up Description
                                        text("Undo: Reverts last move, costs 50 per grid size", 100, 510);

                                        // Hammer Power-Up Description
                                        text("Hammer: Breaks a random tile, costs 25 per grid size", 100, 540);

                                        // 2x Power-Up Description
                                        text("2x: Doubles collisions for 10 moves, costs 200 per grid size", 100, 570);
                                        }

                                        void setupFinishedGamePage(){
                                        background(colors[0]);
                                            
                                        fill(0);
                                        textSize(60);
                                        
                                        text("Game Over!", width/2, 50);
                                        // Displaying the number of moves
                                        text("Number of Moves: " + currentMoves, width/2, 110);
                                        
                                        // Displaying the score of the user
                                        text("Total Score: " + currentScore, width/2, 170);
                                        
                                        text("Final Grid", width/2, 270);
                                        
                                        // Displaying the Grid
                                        for (int rows = 0; rows < grid; rows++){
                                            for (int columns = 0; columns < grid; columns++){
                                            fill(colors[4]);
                                            rect(225+rows*(525/grid+4), 320+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                                            
                                            if (currentGrid[rows][columns] != 0){
                                                fill(colors[((powerOfTwo(currentGrid[rows][columns])%colors.length))]);
                                                rect(225+rows*(525/grid+4), 320+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                                                
                                                fill(0);
                                                textSize(30);
                                                text(currentGrid[rows][columns], (225+rows*(525/grid+4)+(530/grid-4)/2), (320+columns*(525/grid+4)+(530/grid-4)/2));
                                            }
                                            }
                                        }
                                        try {
                                            PrintWriter sentenceWriter = new PrintWriter(new java.io.FileWriter("scores.txt", true));
                                            sentenceWriter.println("Score: " + currentScore + " in " + currentMoves + " moves of grid size " + grid + "x" + grid);
                                            sentenceWriter.close(); 
                                        } catch (IOException e) {
                                            e.printStackTrace();
                                        }
                                        
                                        text("Press SPACE to Continue", width/2, height-100);
                                            
                                        }

                                        int checkPossibleCollisions(int[][] currentGrid){
                                        int possibleCollisions = 0;
                                        int[][] newGrid = currentGrid;
                                        
                                        for (int row=1; row<grid; row++){
                                            for (int column=0; column<grid; column++){
                                            if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                                                possibleCollisions++;
                                            }
                                            }
                                        }
                                        for (int row=grid-1; row>0; row--){
                                            for (int column=0; column<grid; column++){
                                            if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                                                possibleCollisions++;
                                            }
                                            }
                                        }
                                        for (int row=0; row<grid; row++){
                                            for (int column=1; column<grid; column++){
                                            if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                                                possibleCollisions++;
                                            }
                                            }
                                        }
                                        for (int row=0; row<grid; row++){
                                            for (int column=grid-1; column>0; column--){
                                            if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                                                possibleCollisions++;
                                            }
                                            }
                                        }
                                        
                                        return possibleCollisions;
                                        }

                                        int[][] checkCollisions(int[][] currentGrid, String direction){
                                        int[][] newGrid = currentGrid;
                                        
                                        switch (direction) {
                                            case "left":
                                            for (int row=1; row<grid; row++){
                                                for (int column=0; column<grid; column++){
                                                if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                                                    if (doubleMode){
                                                    newGrid[row-1][column] = (newGrid[row][column]+newGrid[row-1][column])*2;
                                                    newGrid[row][column] = 0;
                                                    currentScore+=(newGrid[row][column]+newGrid[row-1][column]*2);
                                                    }
                                                    else{ 
                                                    newGrid[row-1][column] = newGrid[row][column]+newGrid[row-1][column];
                                                    newGrid[row][column] = 0;
                                                    currentScore+=newGrid[row][column]+newGrid[row-1][column];
                                                    }
                                                }
                                                }
                                            }
                                            break;
                                            
                                            case "right":
                                            for (int row=grid-1; row>0; row--){
                                                for (int column=0; column<grid; column++){
                                                if (newGrid[row][column]==newGrid[row-1][column] && newGrid[row][column]!=0){
                                                    if (doubleMode){
                                                    newGrid[row][column] = (newGrid[row][column]+newGrid[row-1][column])*2;
                                                    newGrid[row-1][column] = 0;
                                                    currentScore+=(newGrid[row][column]+newGrid[row-1][column]*2);
                                                    }
                                                    else{ 
                                                    newGrid[row][column] = newGrid[row][column]+newGrid[row-1][column];
                                                    newGrid[row-1][column] = 0;
                                                    currentScore+=newGrid[row][column]+newGrid[row-1][column];
                                                    }
                                                }
                                                }
                                            }
                                            break;
                                            
                                            case "up":
                                            for (int row=0; row<grid; row++){
                                                for (int column=1; column<grid; column++){
                                                if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                                                    if (doubleMode){
                                                    newGrid[row][column-1] = (newGrid[row][column]+newGrid[row][column-1])*2;
                                                    newGrid[row][column] = 0;
                                                    currentScore+=(newGrid[row][column]+newGrid[row][column-1]*2);
                                                    }
                                                    else{ 
                                                    newGrid[row][column-1] = newGrid[row][column]+newGrid[row][column-1];
                                                    newGrid[row][column] = 0;
                                                    currentScore+=newGrid[row][column]+newGrid[row][column-1];
                                                    }
                                                }
                                                }
                                            }
                                            break;
                                            
                                            case "down":
                                            for (int row=0; row<grid; row++){
                                                for (int column=grid-1; column>0; column--){
                                                if (newGrid[row][column]==newGrid[row][column-1] && newGrid[row][column]!=0){
                                                    if (doubleMode){
                                                    newGrid[row][column] = (newGrid[row][column]+newGrid[row][column-1])*2;
                                                    newGrid[row][column-1] = 0;
                                                    currentScore+=(newGrid[row][column]+newGrid[row][column-1]*2);
                                                    }
                                                    else{ 
                                                    newGrid[row][column] = newGrid[row][column]+newGrid[row][column-1];
                                                    newGrid[row][column-1] = 0;
                                                    currentScore+=newGrid[row][column]+newGrid[row][column-1];
                                                    }
                                                }
                                                }
                                            }
                                            break;
                                        }
                                        
                                        return newGrid;
                                        }

                                        int[][] shiftGrid(int[][] currentGrid, String direction) {
                                        
                                        int[][] newGrid = new int[grid][grid];
                                        currentGrid = checkCollisions(currentGrid, direction);
                                        
                                        switch (direction) {
                                            case "up":
                                            for (int i=0; i<grid; i++){
                                                int[] filled = new int[grid];
                                                int filledCount = 0;
                                                
                                                for (int number : currentGrid[i]){
                                                if (number != 0){
                                                    filled[filledCount] = number;
                                                    filledCount++;
                                                }
                                                }
                                                
                                                for (int x=grid-filledCount; x>0; x--){
                                                filled[filledCount+x-1] = 0;
                                                }
                                                newGrid[i] = filled;
                                            }
                                            break;
                                            
                                            case "down":
                                            for (int i = 0; i < grid; i++) {
                                                int[] filled = new int[grid];
                                                int filledCount = 0;
                                            
                                                for (int x = grid - 1; x >= 0; x--) {
                                                if (currentGrid[i][x] != 0) {
                                                    filled[filledCount] = currentGrid[i][x];
                                                    filledCount++;
                                                }
                                                }
                                            
                                                for (int x = 0; x < filledCount; x++) {
                                                newGrid[i][grid - 1 - x] = filled[x];
                                                }

                                                for (int x = 0; x < grid - filledCount; x++) {
                                                newGrid[i][x] = 0;
                                                }
                                            }
                                            break;
                                            
                                            case "left":
                                            for (int i = 0; i < grid; i++) {
                                                int[] filled = new int[grid];
                                                int filledCount = 0;
                                        
                                                for (int x = 0; x < grid; x++) {
                                                if (currentGrid[x][i] != 0) {
                                                    filled[filledCount] = currentGrid[x][i];
                                                    filledCount++;
                                                }
                                                }
                                        
                                                int y = grid - 1;
                                                for (int x = grid-filledCount - 1; x >= 0; x--) {
                                                newGrid[y][i] = 0;
                                                y--;
                                                }
                                                while (y >= 0) {
                                                newGrid[y][i] = filled[y];
                                                y--;
                                                }
                                            }
                                            break;
                                            
                                            case "right":
                                            for (int i = 0; i < grid; i++) {
                                                int[] filled = new int[grid];
                                                int filledCount = 0;
                                        
                                                for (int x = 0; x < grid; x++) {
                                                if (currentGrid[x][i] != 0) {
                                                    filled[filledCount] = currentGrid[x][i];
                                                    filledCount++;
                                                }
                                                }
                                        
                                                int y = grid - 1;
                                                for (int x = filledCount - 1; x >= 0; x--) {
                                                newGrid[y][i] = filled[x];
                                                y--;
                                                }
                                        
                                                while (y >= 0) {
                                                newGrid[y][i] = 0;
                                                y--;
                                                }
                                            }
                                            break;
                                        }
                                        
                                        return checkCollisions(newGrid, direction);
                                        }

                                        int powerOfTwo(int n) {
                                        int power = 0;
                                        while (n > 1) {
                                            n /= 2;
                                            power++;
                                        }
                                        return power;
                                        }

                                        void playGame(){
                                        currentStage = "playinggame";
                                        
                                        background(colors[0]);
                                        
                                        // Draw button background (rectangle)
                                        fill(200);
                                        rect(10, 10, 60, 60, 10);  // rounded corners

                                        // Draw left-pointing arrow
                                        fill(0);
                                        beginShape();
                                        vertex(20, 40);
                                        vertex(60, 20);
                                        vertex(60, 60);
                                        endShape(CLOSE);
                                        
                                        textSize(60);
                                        // Displaying the number of moves
                                        text("Number of Moves: " + currentMoves, width/2, 100);
                                        
                                        // Displaying the score of the user
                                        text("Total Score: " + currentScore, width/2, 160);
                                        
                                        // Displaying the Grid
                                        for (int rows = 0; rows < grid; rows++){
                                            for (int columns = 0; columns < grid; columns++){
                                            fill(colors[4]);
                                            rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                                            
                                            if (currentGrid[rows][columns] != 0){
                                                fill(colors[((powerOfTwo(currentGrid[rows][columns])%colors.length))]);
                                                rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                                                
                                                fill(0);
                                                textSize(160/grid);
                                                text(currentGrid[rows][columns], (225+rows*(525/grid+4)+(530/grid-4)/2), (225+columns*(525/grid+4)+(530/grid-4)/2));
                                            }
                                            }
                                        }
                                        
                                        fill(colors[1]);
                                        rect(225, 800, 100, 100, 10);
                                        image(lightning, 233, 810);
                                        
                                        fill(colors[1]);
                                        rect(335, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        text("444", 385, 850);
                                        
                                        fill(colors[1]);
                                        rect(445, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        image(undo, 460, 815);
                                        
                                        fill(colors[1]);
                                        rect(555, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        image(hammer, 570, 815);
                                        
                                        fill(colors[1]);
                                        rect(665, 800, 100, 100, 10);
                                        fill(0);
                                        textSize(40);
                                        text("2x", 715, 850);
                                        
                                        if (foursOnly){
                                            warning = "You have " + (10-fours) + " 4s left in a row!";
                                        }
                                        text(warning, width/2, 950);
                                        }

                                        void setupGridAdjust(){
                                        background(colors[0]);
                                        currentStage = "adjustinggrid";
                                        // Draw button background (rectangle)
                                        fill(200);
                                        rect(10, 10, 60, 60, 10);  // rounded corners

                                        // Draw left-pointing arrow
                                        fill(0);
                                        beginShape();
                                        vertex(20, 40);
                                        vertex(60, 20);
                                        vertex(60, 60);
                                        endShape(CLOSE);
                                        
                                        text("Adjust Grid Size", (width)/2, 70);
                                        
                                        // Showing Main Grid 
                                        fill(colors[1]);
                                        rect(200, 200, 600, 600, 50);
                                        
                                        currentGrid = new int[grid][grid];
                                        
                                        fill(colors[4]);
                                        for (int rows = 0; rows < grid; rows++){
                                            for (int columns = 0; columns < grid; columns++){
                                            rect(225+rows*(525/grid+4), 225+columns*(525/grid+4), (530/grid-4), (530/grid-4), 10);
                                            currentGrid[rows][columns] = 0;
                                            }
                                        }
                                        
                                        rect(width/2+10, 850, 100, 100);
                                        rect(width/2-110, 850, 100, 100);
                                        
                                        // Draw the Up arrow inside the left rectangle
                                        fill(0); // Set color to black
                                        beginShape();
                                        vertex(width/2-110+50, 850+25);  
                                        vertex(width/2-110+10, 850+75); 
                                        vertex(width/2-110+90, 850+75);  
                                        endShape(CLOSE);
                                        
                                        // Draw the Down arrow inside the right rectangle
                                        beginShape();
                                        vertex(width/2+10+50, 850+75);  
                                        vertex(width/2+10+10, 850+25);  
                                        vertex(width/2+10+90, 850+25);  
                                        endShape(CLOSE);

                                        }

                                        void setupMapsPage() {
                                        setupTitlePage();
                                        background(colors[0]);
                                        currentStage = "selectingmaps";
                                        // Draw button background (rectangle)
                                        fill(200);
                                        rect(10, 10, 60, 60, 10);  // rounded corners

                                        // Draw left-pointing arrow
                                        fill(0);
                                        beginShape();
                                        vertex(20, 40);
                                        vertex(60, 20);
                                        vertex(60, 60);
                                        endShape(CLOSE);

                                        textSize(80);
                                        text("Select Your Map", (width)/2, 70);

                                        if (theme == "desert") {
                                            fill(colors[4]);
                                            rect(width/2-110, 170, 220, 220);
                                            textSize(60);
                                            fill(0);
                                            text("Desert", (width)/2, 270);

                                            fill(colors[1]);
                                            rect(200, 190, 170, 170);
                                            textSize(40);
                                            fill(0);
                                            text("Forest", 285, 270);

                                            fill(colors[1]);
                                            rect((width/2-110)+240, 190, 170, 170);
                                            textSize(40);
                                            fill(0);
                                            text("Space", (width/2-110)+240+85, 270);
                                        } else if (theme == "forest") {
                                            fill(colors[4]);
                                            rect(width/2-110, 170, 220, 220);
                                            textSize(60);
                                            fill(0);
                                            text("Forest", (width)/2, 270);

                                            fill(colors[1]);
                                            rect(200, 190, 170, 170);
                                            textSize(40);
                                            fill(0);
                                            text("Space", 285, 270);

                                            fill(colors[1]);
                                            rect((width/2-110)+240, 190, 170, 170);
                                            textSize(40);
                                            fill(0);
                                            text("Desert", (width/2-110)+240+85, 270);
                                        } else if (theme == "space") {
                                            fill(colors[4]);
                                            rect(width/2-110, 170, 220, 220);
                                            textSize(60);
                                            fill(0);
                                            text("Space", (width)/2, 270);

                                            fill(colors[1]);
                                            rect(200, 190, 170, 170);
                                            textSize(40);
                                            fill(0);
                                            text("Desert", 285, 270);

                                            fill(colors[1]);
                                            rect((width/2-110)+240, 190, 170, 170);
                                            textSize(40);
                                            fill(0);
                                            text("Forest", (width/2-110)+240+85, 270);
                                        }
                                        
                                        // Rendering the Change Map Dimensions button
                                        fill(colors[3]);
                                        rect(150, 520, width-300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("Adjust Grid Size", (width)/2, 570);

                                        // Rendering the Start Game button
                                        fill(colors[3]);
                                        rect(150, 670, width-300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("START GAME", (width)/2, 720);
                                        
                                        fill(colors[3]);
                                        rect(150, 780, width-300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("View Instructions", (width)/2, 830);
                                        
                                        fill(colors[3]);
                                        rect(150, 890, width-300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("View Previous Scores", (width)/2, 940);
                                        }

                                        void toggleMusic() {
                                        // Method to toggle music depending on current status
                                        if (musicStatus == "ON") {
                                            musicStatus = "OFF";
                                            player.close();
                                            minim.stop();
                                        } else if (musicStatus == "OFF") {
                                            musicStatus = "ON";
                                            minim = new Minim(this);
                                            player = minim.loadFile("music.mp3");
                                            player.loop();
                                        }
                                        }

                                        void setupTitlePage() {
                                        // Set up basic title page
                                        background(colors[0]);
                                        fill(colors[0]);
                                        rect(0, 0, 1000, 1000);

                                        textSize(150);
                                        
                                        fill(0);
                                        textAlign(CENTER, CENTER);
                                        text("2048:", width/2, 100);
                                        textSize(160);
                                        text("POWER", width/2, 250);
                                        currentStage = "start";

                                        // Rendering the Toggle Map Settings button
                                        fill(colors[3]);
                                        rect(150, 520, width-300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("Toggle Map Settings", (width)/2, 570);

                                        // Rendering the Start Game button
                                        fill(colors[3]);
                                        rect(150, 670, width-300, 100);
                                        textSize(60);
                                        fill(0);
                                        text("START GAME", (width)/2, 720);

                                        // Printed instructions for menu selection
                                        textSize(50);
                                        fill(0);
                                        textAlign(CENTER, CENTER);
                                        text("Press M to mute/unmute", width/2, 850);
                                        textSize(50);
                                        text("Use mouse to select menu", width/2, 900);
                                        }</code></pre>
                                    <a href="processing/culminating4.pde" class="btn btn-portfolio">
                                        <i class="fas fa-code"></i> Download Code File
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Day 5 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                Day 5 - June 16th, 2025
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#culminatingAccordion">
                            <div class="accordion-body">
                                <div class="project-item">
                                    <h4 class="project-title">Journal Entry</h4>
                                    <div class="project-description">
                                        <p>Today was the final development day where I completed all major features:</p>
                                        <ul class="project-tasks">
                                            <li>Added score-based power-up system</li>
                                            <li>Implemented special Lock tiles that stay in place for 8 moves</li>
                                            <li>Created Bomb tiles that destroy surrounding tiles when matched</li>
                                            <li>Built the view scores page to show previous game results</li>
                                            <li>Added 9 additional music tracks across different genres</li>
                                            <li>Completed the view instructions page with full game documentation</li>
                                            <li>Added keyboard shortcuts (1-9) for quick music selection</li>
                                        </ul>
                                        <p><strong>Thoughts:</strong> This was by far the most productive day as today was when I completed all core game features. While all required features have been implemented, I still have ideas for additional enhancements I'd like to add throughout the summer. The remaining work is primarily code documentation and comments.</p>
                                    </div>
                                    <h4 class="project-title">Code</h4>
                                    <pre><code class="language-java">import ddf.minim.*;

                    AudioPlayer player;
                    Minim minim;

                    PImage lightning;
                    PImage undo;
                    PImage hammer;
                    PImage lock;
                    PImage bomb;

                    String text;
                    String musicStatus = "ON";
                    String currentStage = "start";
                    String theme = "desert";
                    int grid = 4;

                    String warning = "Welcome to the Game! Make your first move!";

                    int currentScore = 0;
                    int currentMoves = 0;

                    boolean foursOnly = false;
                    int fours = 0;

                    boolean doubleMode = false;
                    int doubles = 0;

                    String currentMusic = "basiclofi";

                    int[][] currentGrid;
                    int[][] lastGrid;

                    color[] desertColors = {#e6dfd0, #ded4c0, #d6c9b1, #cdbea1, #c5b391, #bda981, #b49e72};
                    color[] spaceColors = {#cccccc, #c0c0c0, #b3b3b3, #a6a6a6, #999999, #8d8d8d, #808080};
                    color[] forestColors = {#99c199, #80b280, #66a266, #4d934d, #338333, #197419, #006400};

                    color[] colors = desertColors;

                    void setup() {
                    // Creating the basic canvas
                    size(1000, 1000);
                    
                    // Holding lightning powerup image
                    lightning = loadImage("lightningbolt.png");
                    lightning.resize(80,80);
                    
                    undo = loadImage("undoicon.png");
                    undo.resize(70,70);
                    
                    hammer = loadImage("hammer.png");
                    hammer.resize(70,70);
                    
                    lock = loadImage("lock.png");
                    lock.resize(50,50);
                    
                    bomb = loadImage("bomb.png");
                    bomb.resize(50,50);

                    // Setting up the music player
                    minim = new Minim(this);
                    player = minim.loadFile("music.mp3");
                    player.loop();

                    // Creating the basic title page
                    setupTitlePage();
                    }

                    void draw() {
                    if (currentStage == "start") {
                        // Rendering the music settings dynamically
                        fill(colors[3]);
                        rect(150, 400, width-300, 100);
                        textSize(80);
                        fill(0);
                        text("MUSIC: " + musicStatus, (150+width-300)/2, 450);
                        fill(colors[2]);
                        rect(150+width-400, 400, 100, 100);
                        fill(0);
                        if (musicStatus == "ON") {
                        fill(0);
                        textSize(200);
                        text("-", 800, 435);
                        } else if (musicStatus == "OFF") {
                        fill(0);
                        textSize(170);
                        text("+", 800, 445);
                        }
                    } 
                    else if (currentStage == "selectingmaps") {
                        setupMapsPage();
                    }
                    else if (currentStage == "adjustinggrid") {
                        setupGridAdjust();
                    }
                    else if (currentStage == "playinggame") {
                        playGame();
                    }
                    }

                    void keyPressed() {
                    // Checks for mute and unmute key presses and plays music accordingly
                    if (key == 'm' || key == 'M') {
                        toggleMusic();
                    }
                    if (key == 't' || key == 'T'){
                        if (currentMusic == "basiclofi"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "baby";
                            minim = new Minim(this);
                            player = minim.loadFile("baby.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "baby"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "espresso";
                            minim = new Minim(this);
                            player = minim.loadFile("espresso.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "espresso"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "party";
                            minim = new Minim(this);
                            player = minim.loadFile("party.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "party"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "wmyb";
                            minim = new Minim(this);
                            player = minim.loadFile("wmyb.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "wmyb"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "shakeitoff";
                            minim = new Minim(this);
                            player = minim.loadFile("shakeitoff.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "shakeitoff"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "wonderwall";
                            minim = new Minim(this);
                            player = minim.loadFile("wonderwall.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "wonderwall"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "carelesswhisper";
                            minim = new Minim(this);
                            player = minim.loadFile("carelesswhisper.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "carelesswhisper"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "apt";
                            minim = new Minim(this);
                            player = minim.loadFile("apt.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "apt"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "fein";
                            minim = new Minim(this);
                            player = minim.loadFile("fein.mp3");
                            player.loop();
                        }
                        else if (currentMusic == "fein"){
                            toggleMusic();
                            musicStatus = "ON";
                            currentMusic = "basiclofi";
                            minim = new Minim(this);
                            player = minim.loadFile("music.mp3");
                            player.loop();
                        }
                    }
                    
                    else if (currentStage == "adjustinggrid"){
                        if (keyCode == UP){
                        if (grid < 10){
                            grid+=1;
                        }
                        }
                        else if (keyCode == DOWN){
                        if (grid > 4){
                            grid-=1;
                        }
                        }
                    }
                    
                    else if (currentStage == "playinggame"){
                        if (keyCode == UP){
                        warning = "";
                        int[][] tempGrid = shiftGrid(currentGrid, "up");
                        int changes = 0;
                        boolean trigger = true;
                        
                        for (int row=0; row<grid; row++){
                            for (int column=0; column<grid; column++){
                            if (tempGrid[row][column]!=currentGrid[row][column]){
                                changes+=1;
                            }
                            if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                trigger = false;
                            }
                            }
                        }
                        
                        if (trigger && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        if (changes!=0 || !trigger){
                            lastGrid = currentGrid;
                            currentGrid = shiftGrid(currentGrid, "up");
                            
                            int changes2 = 0;
                            do {
                            changes2 = 0;
                            tempGrid = shiftGrid(currentGrid, "up");
                            for (int row=0; row<grid; row++){
                                for (int column=0; column<grid; column++){
                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                    changes2+=1;
                                }
                                }
                            }
                            currentGrid = tempGrid;
                            } while (changes2 != 0);
                            
                            if (changes > 0){
                            currentMoves += 1;
                            }
                            
                            int[][] freeSpots = new int[grid*grid][2];
                            int totalFree = 0;
                            for (int rows = 0; rows < grid; rows++){
                                for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                    freeSpots[totalFree][0] = rows;
                                    freeSpots[totalFree][1] = columns;
                                    totalFree += 1;
                                }
                                if (changes>0){
                                    if (currentGrid[rows][columns]%2!=0){
                                    if (currentGrid[rows][columns] == 17){
                                        currentGrid[rows][columns] = 0;
                                    }
                                    else{
                                        currentGrid[rows][columns]+=2;
                                    }
                                    }
                                }
                                }
                            }
                            
                            int randomAddition = (int)(Math.random()*totalFree);
                            int randomNum = (int)(Math.random()*101);
                            
                            if (totalFree != 0 && changes != 0){
                                if (doubles == 10){
                                doubleMode = false;
                                doubles = 0;
                                }
                                if (doubleMode){
                                doubles+=1;
                                }
                                
                                if (fours == 10){
                                foursOnly = false;
                                fours = 0;
                                }
                                if (foursOnly){
                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                fours+=1;
                                }
                                else if (totalFree >= 4){
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else if (randomNum >= 98){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                    while (currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] != 0){
                                    randomAddition = (int)(Math.random()*totalFree);
                                    }
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                                else{
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                            }
                            }
                            }
                        else if (keyCode == DOWN){
                        warning = "";
                        int[][] tempGrid = shiftGrid(currentGrid, "down");
                        int changes = 0;
                        boolean trigger = true;
                        
                        for (int row=0; row<grid; row++){
                            for (int column=0; column<grid; column++){
                            if (tempGrid[row][column]!=currentGrid[row][column]){
                                changes+=1;
                            }
                            if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                trigger = false;
                            }
                            }
                        }
                        
                        if (trigger && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                            
                        if (changes!=0 || !trigger){
                            lastGrid = currentGrid;
                            currentGrid = shiftGrid(currentGrid, "down");
                            
                            int changes2 = 0;
                            do {
                            changes2 = 0;
                            tempGrid = shiftGrid(currentGrid, "down");
                            for (int row=0; row<grid; row++){
                                for (int column=0; column<grid; column++){
                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                    changes2+=1;
                                }
                                }
                            }
                            currentGrid = tempGrid;
                            } while (changes2 != 0);
                            
                            if (changes > 0){
                            currentMoves += 1;
                            }
                            
                            int[][] freeSpots = new int[grid*grid][2];
                            int totalFree = 0;
                            for (int rows = 0; rows < grid; rows++){
                                for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                    freeSpots[totalFree][0] = rows;
                                    freeSpots[totalFree][1] = columns;
                                    totalFree += 1;
                                }
                                if (changes>0){
                                    if (currentGrid[rows][columns]%2!=0){
                                    if (currentGrid[rows][columns] == 17){
                                        currentGrid[rows][columns] = 0;
                                    }
                                    else{
                                        currentGrid[rows][columns]+=2;
                                    }
                                    }
                                }
                                }
                            }
                            
                            int randomAddition = (int)(Math.random()*totalFree);
                            int randomNum = (int)(Math.random()*101);
                            
                            if (totalFree != 0 && changes != 0){
                                if (doubles == 10){
                                doubleMode = false;
                                doubles = 0;
                                }
                                if (doubleMode){
                                doubles+=1;
                                }
                                
                                if (fours == 10){
                                foursOnly = false;
                                fours = 0;
                                }
                                if (foursOnly){
                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                fours+=1;
                                }
                                else if (totalFree >= 4){
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else if (randomNum >= 98){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                    while (currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] != 0){
                                    randomAddition = (int)(Math.random()*totalFree);
                                    }
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                                else{
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                            }
                        }
                        
                        }
                        else if (keyCode == LEFT){
                        warning = "";
                        int[][] tempGrid = shiftGrid(currentGrid, "left");
                        int changes = 0;
                        boolean trigger = true;
                        
                        for (int row=0; row<grid; row++){
                            for (int column=0; column<grid; column++){
                            if (tempGrid[row][column]!=currentGrid[row][column]){
                                changes+=1;
                            }
                            if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                trigger = false;
                            }
                            }
                        }
                        
                        if (trigger && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        if (changes!=0 || !trigger){
                            lastGrid = currentGrid;
                            currentGrid = shiftGrid(currentGrid, "left");
                            
                            int changes2 = 0;
                            do {
                            changes2 = 0;
                            tempGrid = shiftGrid(currentGrid, "left");
                            for (int row=0; row<grid; row++){
                                for (int column=0; column<grid; column++){
                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                    changes2+=1;
                                }
                                }
                            }
                            currentGrid = tempGrid;
                            } while (changes2 != 0);
                            
                            if (changes > 0){
                            currentMoves += 1;
                            }
                            
                            int[][] freeSpots = new int[grid*grid][2];
                            int totalFree = 0;
                            for (int rows = 0; rows < grid; rows++){
                                for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                    freeSpots[totalFree][0] = rows;
                                    freeSpots[totalFree][1] = columns;
                                    totalFree += 1;
                                }
                                if (changes>0){
                                    if (currentGrid[rows][columns]%2!=0){
                                    if (currentGrid[rows][columns] == 17){
                                        currentGrid[rows][columns] = 0;
                                    }
                                    else{
                                        currentGrid[rows][columns]+=2;
                                    }
                                    }
                                }
                                }
                            }
                            
                            int randomAddition = (int)(Math.random()*totalFree);
                            int randomNum = (int)(Math.random()*101);
                            
                            if (totalFree != 0 && changes != 0){
                                if (doubles == 10){
                                doubleMode = false;
                                doubles = 0;
                                }
                                if (doubleMode){
                                doubles+=1;
                                }
                                
                                if (fours == 10){
                                foursOnly = false;
                                fours = 0;
                                }
                                if (foursOnly){
                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                fours+=1;
                                }
                                else if (totalFree >= 4){
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else if (randomNum >= 98){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                    while (currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] != 0){
                                    randomAddition = (int)(Math.random()*totalFree);
                                    }
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                                else{
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                            }
                            }
                        }
                        else if (keyCode == RIGHT){
                        warning = "";
                        int[][] tempGrid = shiftGrid(currentGrid, "right");
                        int changes = 0;
                        boolean trigger = true;
                        
                        for (int row=0; row<grid; row++){
                            for (int column=0; column<grid; column++){
                            if (tempGrid[row][column]!=currentGrid[row][column]){
                                changes+=1;
                            }
                            if (currentGrid[row][column]==0 || tempGrid[row][column]==0){
                                trigger = false;
                            }
                            }
                        }
                        
                        if (trigger && checkPossibleCollisions(currentGrid) == 0){
                            currentStage = "finishedgame";
                            setupFinishedGamePage();
                        }
                        
                        if (changes!=0 || !trigger){
                            lastGrid = currentGrid;
                            currentGrid = shiftGrid(currentGrid, "right");
                            
                            int changes2 = 0;
                            do {
                            changes2 = 0;
                            tempGrid = shiftGrid(currentGrid, "right");
                            for (int row=0; row<grid; row++){
                                for (int column=0; column<grid; column++){
                                if (tempGrid[row][column]!=currentGrid[row][column]){
                                    changes2+=1;
                                }
                                }
                            }
                            currentGrid = tempGrid;
                            } while (changes2 != 0);
                            
                            if (changes > 0){
                            currentMoves += 1;
                            }
                            
                            int[][] freeSpots = new int[grid*grid][2];
                            int totalFree = 0;
                            for (int rows = 0; rows < grid; rows++){
                                for (int columns = 0; columns < grid; columns++){
                                if (currentGrid[rows][columns] == 0){
                                    freeSpots[totalFree][0] = rows;
                                    freeSpots[totalFree][1] = columns;
                                    totalFree += 1;
                                }
                                if (changes>0){
                                    if (currentGrid[rows][columns]%2!=0){
                                    if (currentGrid[rows][columns] == 17){
                                        currentGrid[rows][columns] = 0;
                                    }
                                    else{
                                        currentGrid[rows][columns]+=2;
                                    }
                                    }
                                }
                                }
                            }
                            
                            int randomAddition = (int)(Math.random()*totalFree);
                            int randomNum = (int)(Math.random()*101);
                            
                            if (totalFree != 0 && changes != 0){
                                if (doubles == 10){
                                doubleMode = false;
                                doubles = 0;
                                }
                                if (doubleMode){
                                doubles+=1;
                                }
                                
                                if (fours == 10){
                                foursOnly = false;
                                fours = 0;
                                }
                                if (foursOnly){
                                currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                fours+=1;
                                }
                                else if (totalFree >= 4){
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else if (randomNum >= 98){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                    while (currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] != 0){
                                    randomAddition = (int)(Math.random()*totalFree);
                                    }
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 6;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                                else{
                                if (randomNum >= 85 && randomNum <= 92){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 4;
                                }
                                else if (randomNum >= 93 && randomNum <= 97){
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 1;
                                }
                                else{
                                    currentGrid[freeSpots[randomAddition][0]][freeSpots[randomAddition][1]] = 2;
                                }
                                }
                            }
                            }
                        }
                    }
                    else if (currentStage == "finishedgame"){
                        if (key == ' '){
                        setupTitlePage();
                        }
                    }
                    
                    if (key == '1'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "basiclofi";
                        minim = new Minim(this);
                        player = minim.loadFile("music.mp3");
                        player.loop();
                    }
                    else if (key == '2'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "baby";
                        minim = new Minim(this);
                        player = minim.loadFile("baby.mp3");
                        player.loop();
                    }
                    else if (key == '3'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "espresso";
                        minim = new Minim(this);
                        player = minim.loadFile("espresso.mp3");
                        player.loop();
                    }
                    else if (key == '4'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "party";
                        minim = new Minim(this);
                        player = minim.loadFile("party.mp3");
                        player.loop();
                    }
                    else if (key == '5'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "wmyb";
                        minim = new Minim(this);
                        player = minim.loadFile("wmyb.mp3");
                        player.loop();
                    }
                    else if (key == '6'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "shakeitoff";
                        minim = new Minim(this);
                        player = minim.loadFile("shakeitoff.mp3");
                        player.loop();
                    }
                    else if (key == '7'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "wonderwall";
                        minim = new Minim(this);
                        player = minim.loadFile("wonderwall.mp3");
                        player.loop();
                    }
                    else if (key == '8'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "carelesswhisper";
                        minim = new Minim(this);
                        player = minim.loadFile("carelesswhisper.mp3");
                        player.loop();
                    }
                    else if (key == '9'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "apt";
                        minim = new Minim(this);
                        player = minim.loadFile("apt.mp3");
                        player.loop();
                    }
                    else if (key == '0'){
                        toggleMusic();
                        musicStatus = "ON";
                        currentMusic = "fein";
                        minim = new Minim(this);
                        player = minim.loadFile("fein.mp3");
                        player.loop();
                    }
                    }</code></pre>
                                    <a href="processing/culminating5.pde" class="btn btn-portfolio">
                                        <i class="fas fa-code"></i> Download Code File
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <style>
                /* Add these styles to your existing CSS */
                .accordion-button {
                    font-weight: 600;
                    background-color: var(--light-bg);
                    color: var(--secondary-color);
                }
                
                .accordion-button:not(.collapsed) {
                    background-color: var(--primary-color);
                    color: white;
                }
                
                .accordion-button:focus {
                    box-shadow: none;
                    border-color: rgba(0,0,0,.125);
                }
                
                .accordion-item {
                    margin-bottom: 1rem;
                    border: 1px solid rgba(0,0,0,.125);
                    border-radius: 0.25rem;
                }
                
                pre {
                    background-color: #f8f9fa;
                    padding: 1rem;
                    border-radius: 0.5rem;
                    overflow-x: auto;
                    margin: 1rem 0;
                }
                
                code {
                    font-family: 'Courier New', Courier, monospace;
                    font-size: 0.9rem;
                }
            </style>

        </div>
    </div>
    
    <div class="footer">
        <p>© 2025 Sarveshwar Senthil Kumar - ICS3UR Portfolio</p>
    </div>
    
    <a href="#start" class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </a>
    
    <script>
        // Back to top button functionality
        const backToTopButton = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('active');
            } else {
                backToTopButton.classList.remove('active');
            }
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>